/*!
 * scroll-kattappa
 * Version - 0.9.6
 * Author - Brijesh Bittu <brijeshb42@gmail.com>
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.Kattappa=e(require("react"),require("react-dom")):t.Kattappa=e(t.React,t.ReactDOM)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=118)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(s,t);var e,n,r,i=c(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,t)).state={message:"Wait",id:"",valid:!1,preview:!1},e.validate=e.validate.bind(l(e)),e.extraHandler=e.extraHandler.bind(l(e)),e.showPreview=e.showPreview.bind(l(e)),e}return e=s,(n=[{key:"componentDidMount",value:function(){this.validate(),this.extraHandler()}},{key:"extraHandler",value:function(){}},{key:"showPreview",value:function(){this.setState({preview:!this.state.preview})}},{key:"validate",value:function(){var t;if(t=this.props.regex.exec(this.props.url),this.props.regex.lastIndex=0,!t)return this.props.checkContent(!1),void this.setState({message:"error."});this.setState({message:"OK.",id:t[1],valid:!0}),this.props.checkContent(!0)}},{key:"render",value:function(){return o.a.createElement("div",{class:"katap-embed"})}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(o.a.Component);p.defaultProps={url:"",regex:/^$/},e.a=p},function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:F(t)}function r(t){return u(t)?t:H(t)}function o(t){return c(t)?t:K(t)}function i(t){return a(t)&&!s(t)?t:W(t)}function a(t){return!(!t||!t[f])}function u(t){return!(!t||!t[p])}function c(t){return!(!t||!t[h])}function s(t){return u(t)||c(t)}function l(t){return!(!t||!t[d])}e(r,n),e(o,n),e(i,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=c,n.isAssociative=s,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",y={},v={value:!1},m={value:!1};function b(t){return t.value=!1,t}function g(t){t&&(t.value=!0)}function _(){}function w(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(E)),t.size}function O(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function E(){return!0}function k(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function j(t,e){return C(t,e,0)}function x(t,e){return C(t,e,e)}function C(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var P,N,R,T="function"==typeof Symbol&&Symbol.iterator,A=T||"@@iterator";function I(t){this.next=t}function M(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function D(){return{value:void 0,done:!0}}function L(t){return!!U(t)}function B(t){return t&&"function"==typeof t.next}function z(t){var e=U(t);return e&&e.call(t)}function U(t){var e=t&&(T&&t[T]||t["@@iterator"]);if("function"==typeof e)return e}function q(t){return t&&"number"==typeof t.length}function F(t){return null==t?Y():a(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new V(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function H(t){return null==t?Y().toKeyedSeq():a(t)?u(t)?t.toSeq():t.fromEntrySeq():X(t)}function K(t){return null==t?Y():a(t)?u(t)?t.entrySeq():t.toIndexedSeq():Z(t)}function W(t){return(null==t?Y():a(t)?u(t)?t.entrySeq():t:Z(t)).toSetSeq()}function $(t){this._array=t,this.size=t.length}function V(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function G(t){this._iterable=t,this.size=t.length||t.size}function J(t){this._iterator=t,this._iteratorCache=[]}function Q(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function Y(){return P||(P=new $([]))}function X(t){var e=Array.isArray(t)?new $(t).fromEntrySeq():B(t)?new J(t).fromEntrySeq():L(t)?new G(t).fromEntrySeq():"object"==typeof t?new V(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function Z(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return q(t)?new $(t):B(t)?new J(t):L(t)?new G(t):void 0}function et(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var u=o[n?i-a:a];if(!1===e(u[1],r?u[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function nt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new I((function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:M(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function rt(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,K(n).map((function(r,o){return t(e,r,o,n)}))):it(n)?e.call(o,r,H(n).map((function(r,o){return t(e,r,o,n)}))):n}(e,t,"",{"":t}):ot(t)}function ot(t){return Array.isArray(t)?K(t).map(ot).toList():it(t)?H(t).map(ot).toMap():t}function it(t){return t&&(t.constructor===Object||void 0===t.constructor)}function at(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function ut(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||c(t)!==c(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var o=r.next().value;return o&&at(o[1],t)&&(n||at(o[0],e))}))&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var f=!0,p=e.__iterate((function(e,r){if(n?!t.has(e):o?!at(e,t.get(r,y)):!at(t.get(r,y),e))return f=!1,!1}));return f&&t.size===p}function ct(t,e){if(!(this instanceof ct))return new ct(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(N)return N;N=this}}function st(t,e){if(!t)throw new Error(e)}function lt(t,e,n){if(!(this instanceof lt))return new lt(t,e,n);if(st(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(R)return R;R=this}}function ft(){throw TypeError("Abstract")}function pt(){}function ht(){}function dt(){}I.prototype.toString=function(){return"[Iterator]"},I.KEYS=0,I.VALUES=1,I.ENTRIES=2,I.prototype.inspect=I.prototype.toSource=function(){return this.toString()},I.prototype[A]=function(){return this},e(F,n),F.of=function(){return F(arguments)},F.prototype.toSeq=function(){return this},F.prototype.toString=function(){return this.__toString("Seq {","}")},F.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},F.prototype.__iterate=function(t,e){return et(this,t,e,!0)},F.prototype.__iterator=function(t,e){return nt(this,t,e,!0)},e(H,F),H.prototype.toKeyedSeq=function(){return this},e(K,F),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(t,e){return et(this,t,e,!1)},K.prototype.__iterator=function(t,e){return nt(this,t,e,!1)},e(W,F),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},F.isSeq=Q,F.Keyed=H,F.Set=W,F.Indexed=K,F.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e($,K),$.prototype.get=function(t,e){return this.has(t)?this._array[O(this,t)]:e},$.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},$.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new I((function(){return o>r?{value:void 0,done:!0}:M(t,o,n[e?r-o++:o++])}))},e(V,H),V.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},V.prototype.has=function(t){return this._object.hasOwnProperty(t)},V.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},V.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new I((function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:M(t,a,n[a])}))},V.prototype[d]=!0,e(G,K),G.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=z(this._iterable),r=0;if(B(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},G.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=z(this._iterable);if(!B(n))return new I(D);var r=0;return new I((function(){var e=n.next();return e.done?e:M(t,r++,e.value)}))},e(J,K),J.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},J.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new I((function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return M(t,o,r[o++])}))},e(ct,K),ct.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ct.prototype.get=function(t,e){return this.has(t)?this._value:e},ct.prototype.includes=function(t){return at(this._value,t)},ct.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:new ct(this._value,x(e,n)-j(t,n))},ct.prototype.reverse=function(){return this},ct.prototype.indexOf=function(t){return at(this._value,t)?0:-1},ct.prototype.lastIndexOf=function(t){return at(this._value,t)?this.size:-1},ct.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ct.prototype.__iterator=function(t,e){var n=this,r=0;return new I((function(){return r<n.size?M(t,r++,n._value):{value:void 0,done:!0}}))},ct.prototype.equals=function(t){return t instanceof ct?at(this._value,t._value):ut(t)},e(lt,K),lt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},lt.prototype.get=function(t,e){return this.has(t)?this._start+O(this,t)*this._step:e},lt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},lt.prototype.slice=function(t,e){return k(t,e,this.size)?this:(t=j(t,this.size),(e=x(e,this.size))<=t?new lt(0,0):new lt(this.get(t,this._end),this.get(e,this._end),this._step))},lt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},lt.prototype.lastIndexOf=function(t){return this.indexOf(t)},lt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},lt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new I((function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:M(t,i++,a)}))},lt.prototype.equals=function(t){return t instanceof lt?this._start===t._start&&this._end===t._end&&this._step===t._step:ut(this,t)},e(ft,n),e(pt,ft),e(ht,ft),e(dt,ft),ft.Keyed=pt,ft.Indexed=ht,ft.Set=dt;var yt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function vt(t){return t>>>1&1073741824|3221225471&t}function mt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return vt(n)}if("string"===e)return t.length>kt?function(t){var e=Ct[t];return void 0===e&&(e=bt(t),xt===jt&&(xt=0,Ct={}),xt++,Ct[t]=e),e}(t):bt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(St&&void 0!==(e=gt.get(t)))return e;if(void 0!==(e=t[Et]))return e;if(!wt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Et]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ot,1073741824&Ot&&(Ot=0),St)gt.set(t,e);else{if(void 0!==_t&&!1===_t(t))throw new Error("Non-extensible objects are not allowed as keys.");if(wt)Object.defineProperty(t,Et,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Et]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Et]=e}}return e}(t);if("function"==typeof t.toString)return bt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function bt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return vt(e)}var gt,_t=Object.isExtensible,wt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),St="function"==typeof WeakMap;St&&(gt=new WeakMap);var Ot=0,Et="__immutablehash__";"function"==typeof Symbol&&(Et=Symbol(Et));var kt=16,jt=255,xt=0,Ct={};function Pt(t){st(t!==1/0,"Cannot perform this action with an infinite size.")}function Nt(t){return null==t?Kt():Rt(t)&&!l(t)?t:Kt().withMutations((function(e){var n=r(t);Pt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Rt(t){return!(!t||!t[At])}e(Nt,pt),Nt.of=function(){var e=t.call(arguments,0);return Kt().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Nt.prototype.toString=function(){return this.__toString("Map {","}")},Nt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Nt.prototype.set=function(t,e){return Wt(this,t,e)},Nt.prototype.setIn=function(t,e){return this.updateIn(t,y,(function(){return e}))},Nt.prototype.remove=function(t){return Wt(this,t,y)},Nt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return y}))},Nt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Nt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===y,a=n.next();if(a.done){var u=i?r:e,c=o(u);return c===u?e:c}st(i||e&&e.set,"invalid keyPath");var s=a.value,l=i?y:e.get(s,y),f=t(l,n,r,o);return f===l?e:f===y?e.remove(s):(i?Kt():e).set(s,f)}(this,Je(t),e,n);return r===y?void 0:r},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Kt()},Nt.prototype.merge=function(){return Jt(this,void 0,arguments)},Nt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Jt(this,e,n)},Nt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Kt(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Nt.prototype.mergeDeep=function(){return Jt(this,Qt,arguments)},Nt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Jt(this,Yt(e),n)},Nt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Kt(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Nt.prototype.sort=function(t){return we(Be(this,t))},Nt.prototype.sortBy=function(t,e){return we(Be(this,e,t))},Nt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Nt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},Nt.prototype.asImmutable=function(){return this.__ensureOwner()},Nt.prototype.wasAltered=function(){return this.__altered},Nt.prototype.__iterator=function(t,e){return new Ut(this,t,e)},Nt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Nt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ht(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Nt.isMap=Rt;var Tt,At="@@__IMMUTABLE_MAP__@@",It=Nt.prototype;function Mt(t,e){this.ownerID=t,this.entries=e}function Dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Lt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Bt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ut(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Ft(t._root)}function qt(t,e){return M(t,e[0],e[1])}function Ft(t,e){return{node:t,index:0,__prev:e}}function Ht(t,e,n,r){var o=Object.create(It);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Kt(){return Tt||(Tt=Ht(0))}function Wt(t,e,n){var r,o;if(t._root){var i=b(v),a=b(m);if(r=$t(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===y?-1:1:0)}else{if(n===y)return t;o=1,r=new Mt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Ht(o,r):Kt()}function $t(t,e,n,r,o,i,a,u){return t?t.update(e,n,r,o,i,a,u):i===y?t:(g(u),g(a),new zt(e,r,[o,i]))}function Vt(t){return t.constructor===zt||t.constructor===Bt}function Gt(t,e,n,r,o){if(t.keyHash===r)return new Bt(e,r,[t.entry,o]);var i,a=31&(0===n?t.keyHash:t.keyHash>>>n),u=31&(0===n?r:r>>>n);return new Dt(e,1<<a|1<<u,a===u?[Gt(t,e,n+5,r,o)]:(i=new zt(e,r,o),a<u?[t,i]:[i,t]))}function Jt(t,e,n){for(var o=[],i=0;i<n.length;i++){var u=n[i],c=r(u);a(u)||(c=c.map((function(t){return rt(t)}))),o.push(c)}return Xt(t,e,o)}function Qt(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):at(t,e)?t:e}function Yt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return at(e,o)?e:o}}function Xt(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,y,(function(t){return t===y?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)})):t.constructor(n[0])}function Zt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function te(t,e,n,r){var o=r?t:w(t);return o[e]=n,o}It[At]=!0,It.delete=It.remove,It.removeIn=It.deleteIn,Mt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(at(n,o[i][0]))return o[i][1];return r},Mt.prototype.update=function(t,e,n,r,o,i,a){for(var u=o===y,c=this.entries,s=0,l=c.length;s<l&&!at(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===o:u)return this;if(g(a),(u||!f)&&g(i),!u||1!==c.length){if(!f&&!u&&c.length>=ee)return function(t,e,n,r){t||(t=new _);for(var o=new zt(t,mt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,c,r,o);var p=t&&t===this.ownerID,h=p?c:w(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new Mt(t,h)}},Dt.prototype.get=function(t,e,n,r){void 0===e&&(e=mt(n));var o=1<<(31&(0===t?e:e>>>t)),i=this.bitmap;return 0==(i&o)?r:this.nodes[Zt(i&o-1)].get(t+5,e,n,r)},Dt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=mt(r));var u=31&(0===e?n:n>>>e),c=1<<u,s=this.bitmap,l=0!=(s&c);if(!l&&o===y)return this;var f=Zt(s&c-1),p=this.nodes,h=l?p[f]:void 0,d=$t(h,t,e+5,n,r,o,i,a);if(d===h)return this;if(!l&&d&&p.length>=ne)return function(t,e,n,r,o){for(var i=0,a=new Array(32),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[i++]:void 0;return a[r]=o,new Lt(t,i+1,a)}(t,p,s,u,d);if(l&&!d&&2===p.length&&Vt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&Vt(d))return d;var v=t&&t===this.ownerID,m=l?d?s:s^c:s|c,b=l?d?te(p,f,d,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(p,f,v):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,u=0;u<o;u++)u===e?(i[u]=n,a=-1):i[u]=t[u+a];return i}(p,f,d,v);return v?(this.bitmap=m,this.nodes=b,this):new Dt(t,m,b)},Lt.prototype.get=function(t,e,n,r){void 0===e&&(e=mt(n));var o=31&(0===t?e:e>>>t),i=this.nodes[o];return i?i.get(t+5,e,n,r):r},Lt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=mt(r));var u=31&(0===e?n:n>>>e),c=o===y,s=this.nodes,l=s[u];if(c&&!l)return this;var f=$t(l,t,e+5,n,r,o,i,a);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<re)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),u=0,c=1,s=e.length;u<s;u++,c<<=1){var l=e[u];void 0!==l&&u!==r&&(o|=c,a[i++]=l)}return new Dt(t,o,a)}(t,s,p,u)}else p++;var h=t&&t===this.ownerID,d=te(s,u,f,h);return h?(this.count=p,this.nodes=d,this):new Lt(t,p,d)},Bt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(at(n,o[i][0]))return o[i][1];return r},Bt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=mt(r));var u=o===y;if(n!==this.keyHash)return u?this:(g(a),g(i),Gt(this,t,e,n,[r,o]));for(var c=this.entries,s=0,l=c.length;s<l&&!at(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===o:u)return this;if(g(a),(u||!f)&&g(i),u&&2===l)return new zt(t,this.keyHash,c[1^s]);var p=t&&t===this.ownerID,h=p?c:w(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new Bt(t,this.keyHash,h)},zt.prototype.get=function(t,e,n,r){return at(n,this.entry[0])?this.entry[1]:r},zt.prototype.update=function(t,e,n,r,o,i,a){var u=o===y,c=at(r,this.entry[0]);return(c?o===this.entry[1]:u)?this:(g(a),u?void g(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new zt(t,this.keyHash,[r,o]):(g(i),Gt(this,t,e,mt(r),[r,o])))},Mt.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Dt.prototype.iterate=Lt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},zt.prototype.iterate=function(t,e){return t(this.entry)},e(Ut,I),Ut.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return qt(t,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return qt(t,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return qt(t,i.entry);e=this._stack=Ft(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ee=8,ne=16,re=8;function oe(t){var e=de();if(null==t)return e;if(ie(t))return t;var n=o(t),r=n.size;return 0===r?e:(Pt(r),r>0&&r<32?he(0,r,5,null,new ce(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ie(t){return!(!t||!t[ae])}e(oe,ht),oe.of=function(){return this(arguments)},oe.prototype.toString=function(){return this.__toString("List [","]")},oe.prototype.get=function(t,e){if((t=O(this,t))>=0&&t<this.size){var n=me(this,t+=this._origin);return n&&n.array[31&t]}return e},oe.prototype.set=function(t,e){return function(t,e,n){if((e=O(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?be(t,e).set(0,n):be(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,o=t._root,i=b(m);return e>=_e(t._capacity)?r=ye(r,t.__ownerID,0,e,n,i):o=ye(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):he(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},oe.prototype.insert=function(t,e){return this.splice(t,0,e)},oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):de()},oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){be(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},oe.prototype.pop=function(){return be(this,0,-1)},oe.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){be(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},oe.prototype.shift=function(){return be(this,1)},oe.prototype.merge=function(){return ge(this,void 0,arguments)},oe.prototype.mergeWith=function(e){var n=t.call(arguments,1);return ge(this,e,n)},oe.prototype.mergeDeep=function(){return ge(this,Qt,arguments)},oe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return ge(this,Yt(e),n)},oe.prototype.setSize=function(t){return be(this,0,t)},oe.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:be(this,j(t,n),x(e,n))},oe.prototype.__iterator=function(t,e){var n=0,r=pe(this,e);return new I((function(){var e=r();return e===fe?{value:void 0,done:!0}:M(t,n++,e)}))},oe.prototype.__iterate=function(t,e){for(var n,r=0,o=pe(this,e);(n=o())!==fe&&!1!==t(n,r++,this););return r},oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?he(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},oe.isList=ie;var ae="@@__IMMUTABLE_LIST__@@",ue=oe.prototype;function ce(t,e){this.array=t,this.ownerID=e}ue[ae]=!0,ue.delete=ue.remove,ue.setIn=It.setIn,ue.deleteIn=ue.removeIn=It.removeIn,ue.update=It.update,ue.updateIn=It.updateIn,ue.mergeIn=It.mergeIn,ue.mergeDeepIn=It.mergeDeepIn,ue.withMutations=It.withMutations,ue.asMutable=It.asMutable,ue.asImmutable=It.asImmutable,ue.wasAltered=It.wasAltered,ce.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ce([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-5,n))===a&&i)return this}if(i&&!o)return this;var u=ve(this,t);if(!i)for(var c=0;c<r;c++)u.array[c]=void 0;return o&&(u.array[r]=o),u},ce.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&31;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-5,n))===i&&o===this.array.length-1)return this}var a=ve(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var se,le,fe={};function pe(t,e){var n=t._origin,r=t._capacity,o=_e(r),i=t._tail;return a(t._root,t._level,0);function a(t,u,c){return 0===u?function(t,a){var u=a===o?i&&i.array:t&&t.array,c=a>n?0:n-a,s=r-a;return s>32&&(s=32),function(){if(c===s)return fe;var t=e?--s:c++;return u&&u[t]}}(t,c):function(t,o,i){var u,c=t&&t.array,s=i>n?0:n-i>>o,l=1+(r-i>>o);return l>32&&(l=32),function(){for(;;){if(u){var t=u();if(t!==fe)return t;u=null}if(s===l)return fe;var n=e?--l:s++;u=a(c&&c[n],o-5,i+(n<<o))}}}(t,u,c)}}function he(t,e,n,r,o,i,a){var u=Object.create(ue);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=o,u.__ownerID=i,u.__hash=a,u.__altered=!1,u}function de(){return se||(se=he(0,0,5))}function ye(t,e,n,r,o,i){var a,u=r>>>n&31,c=t&&u<t.array.length;if(!c&&void 0===o)return t;if(n>0){var s=t&&t.array[u],l=ye(s,e,n-5,r,o,i);return l===s?t:((a=ve(t,e)).array[u]=l,a)}return c&&t.array[u]===o?t:(g(i),a=ve(t,e),void 0===o&&u===a.array.length-1?a.array.pop():a.array[u]=o,a)}function ve(t,e){return e&&t&&e===t.ownerID?t:new ce(t?t.array.slice():[],e)}function me(t,e){if(e>=_e(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function be(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new _,o=t._origin,i=t._capacity,a=o+e,u=void 0===n?i:n<0?i+n:o+n;if(a===o&&u===i)return t;if(a>=u)return t.clear();for(var c=t._level,s=t._root,l=0;a+l<0;)s=new ce(s&&s.array.length?[void 0,s]:[],r),l+=1<<(c+=5);l&&(a+=l,o+=l,u+=l,i+=l);for(var f=_e(i),p=_e(u);p>=1<<c+5;)s=new ce(s&&s.array.length?[s]:[],r),c+=5;var h=t._tail,d=p<f?me(t,u-1):p>f?new ce([],r):h;if(h&&p>f&&a<i&&h.array.length){for(var y=s=ve(s,r),v=c;v>5;v-=5){var m=f>>>v&31;y=y.array[m]=ve(y.array[m],r)}y.array[f>>>5&31]=h}if(u<i&&(d=d&&d.removeAfter(r,0,u)),a>=p)a-=p,u-=p,c=5,s=null,d=d&&d.removeBefore(r,0,a);else if(a>o||p<f){for(l=0;s;){var b=a>>>c&31;if(b!==p>>>c&31)break;b&&(l+=(1<<c)*b),c-=5,s=s.array[b]}s&&a>o&&(s=s.removeBefore(r,c,a-l)),s&&p<f&&(s=s.removeAfter(r,c,p-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=c,t._root=s,t._tail=d,t.__hash=void 0,t.__altered=!0,t):he(a,u,c,s,d)}function ge(t,e,n){for(var r=[],i=0,u=0;u<n.length;u++){var c=n[u],s=o(c);s.size>i&&(i=s.size),a(c)||(s=s.map((function(t){return rt(t)}))),r.push(s)}return i>t.size&&(t=t.setSize(i)),Xt(t,e,r)}function _e(t){return t<32?0:t-1>>>5<<5}function we(t){return null==t?Ee():Se(t)?t:Ee().withMutations((function(e){var n=r(t);Pt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Se(t){return Rt(t)&&l(t)}function Oe(t,e,n,r){var o=Object.create(we.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function Ee(){return le||(le=Oe(Kt(),de()))}function ke(t,e,n){var r,o,i=t._map,a=t._list,u=i.get(e),c=void 0!==u;if(n===y){if(!c)return t;a.size>=32&&a.size>=2*i.size?(r=(o=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=u===a.size-1?a.pop():a.set(u,void 0))}else if(c){if(n===a.get(u)[1])return t;r=i,o=a.set(u,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):Oe(r,o)}function je(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function xe(t){this._iter=t,this.size=t.size}function Ce(t){this._iter=t,this.size=t.size}function Pe(t){this._iter=t,this.size=t.size}function Ne(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ve,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new I((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Re(t,e,n){var r=$e(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,y);return i===y?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate((function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(2,o);return new I((function(){var o=i.next();if(o.done)return o;var a=o.value,u=a[0];return M(r,u,e.call(n,a[1],u,t),o)}))},r}function Te(t,e){var n=$e(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ne(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ve,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function Ae(t,e,n,r){var o=$e(t);return r&&(o.has=function(r){var o=t.get(r,y);return o!==y&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,y);return i!==y&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,u=0;return t.__iterate((function(t,i,c){if(e.call(n,t,i,c))return u++,o(t,r?i:u-1,a)}),i),u},o.__iteratorUncached=function(o,i){var a=t.__iterator(2,i),u=0;return new I((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,s=c[0],l=c[1];if(e.call(n,l,s,t))return M(o,r?s:u++,l,i)}}))},o}function Ie(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=o:n|=0),k(e,n,o))return t;var i=j(e,o),a=x(n,o);if(i!=i||a!=a)return Ie(t.toSeq().cacheResult(),e,n,r);var u,c=a-i;c==c&&(u=c<0?0:c);var s=$e(t);return s.size=0===u?u:t.size&&u||void 0,!r&&Q(t)&&u>=0&&(s.get=function(e,n){return(e=O(this,e))>=0&&e<u?t.get(e+i,n):n}),s.__iterateUncached=function(e,n){var o=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,s=0;return t.__iterate((function(t,n){if(!c||!(c=a++<i))return s++,!1!==e(t,r?n:s-1,o)&&s!==u})),s},s.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var o=0!==u&&t.__iterator(e,n),a=0,c=0;return new I((function(){for(;a++<i;)o.next();if(++c>u)return{value:void 0,done:!0};var t=o.next();return r||1===e?t:M(e,c-1,0===e?void 0:t.value[1],t)}))},s}function Me(t,e,n,r){var o=$e(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var u=!0,c=0;return t.__iterate((function(t,i,s){if(!u||!(u=e.call(n,t,i,s)))return c++,o(t,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var u=t.__iterator(2,i),c=!0,s=0;return new I((function(){var t,i,l;do{if((t=u.next()).done)return r||1===o?t:M(o,s++,0===o?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],c&&(c=e.call(n,l,i,a))}while(c);return 2===o?t:M(o,i,l,t)}))},o}function De(t,e){var n=u(t),o=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?X(t):Z(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&u(i)||c(t)&&c(i))return i}var s=new $(o);return n?s=s.toKeyedSeq():c(t)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),s}function Le(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,o){var i=0,u=!1;return function t(c,s){var l=this;c.__iterate((function(o,c){return(!e||s<e)&&a(o)?t(o,s+1):!1===r(o,n?c:i++,l)&&(u=!0),!u}),o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),u=[],c=0;return new I((function(){for(;i;){var t=i.next();if(!1===t.done){var s=t.value;if(2===r&&(s=s[1]),e&&!(u.length<e)||!a(s))return n?t:M(r,c++,s,t);u.push(i),i=s.__iterator(r,o)}else i=u.pop()}return{value:void 0,done:!0}}))},r}function Be(t,e,n){e||(e=Ge);var r=u(t),o=0,i=t.toSeq().map((function(e,r){return[r,e,o++,n?n(e,r,t):e]})).toArray();return i.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?H(i):c(t)?K(i):W(i)}function ze(t,e,n){if(e||(e=Ge),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Ue(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Ue(e,t,n)?n:t}))}function Ue(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function qe(t,e,r){var o=$e(t);return o.size=new $(r).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map((function(t){return t=n(t),z(o?t.reverse():t)})),a=0,u=!1;return new I((function(){var n;return u||(n=i.map((function(t){return t.next()})),u=n.some((function(t){return t.done}))),u?{value:void 0,done:!0}:M(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},o}function Fe(t,e){return Q(t)?e:t.constructor(e)}function He(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ke(t){return Pt(t.size),S(t)}function We(t){return u(t)?r:c(t)?o:i}function $e(t){return Object.create((u(t)?H:c(t)?K:W).prototype)}function Ve(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):F.prototype.cacheResult.call(this)}function Ge(t,e){return t>e?1:t<e?-1:0}function Je(t){var e=z(t);if(!e){if(!q(t))throw new TypeError("Expected iterable or array-like: "+t);e=z(n(t))}return e}function Qe(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(tn.bind(void 0,t))}catch(t){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Nt(i)},o=r.prototype=Object.create(Ye);return o.constructor=r,r}e(we,Nt),we.of=function(){return this(arguments)},we.prototype.toString=function(){return this.__toString("OrderedMap {","}")},we.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},we.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ee()},we.prototype.set=function(t,e){return ke(this,t,e)},we.prototype.remove=function(t){return ke(this,t,y)},we.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},we.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},we.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},we.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Oe(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},we.isOrderedMap=Se,we.prototype[d]=!0,we.prototype.delete=we.prototype.remove,e(je,H),je.prototype.get=function(t,e){return this._iter.get(t,e)},je.prototype.has=function(t){return this._iter.has(t)},je.prototype.valueSeq=function(){return this._iter.valueSeq()},je.prototype.reverse=function(){var t=this,e=Te(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},je.prototype.map=function(t,e){var n=this,r=Re(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},je.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ke(this):0,function(o){return t(o,e?--n:n++,r)}),e)},je.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ke(this):0;return new I((function(){var o=n.next();return o.done?o:M(t,e?--r:r++,o.value,o)}))},je.prototype[d]=!0,e(xe,K),xe.prototype.includes=function(t){return this._iter.includes(t)},xe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},xe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new I((function(){var e=n.next();return e.done?e:M(t,r++,e.value,e)}))},e(Ce,W),Ce.prototype.has=function(t){return this._iter.includes(t)},Ce.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ce.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new I((function(){var e=n.next();return e.done?e:M(t,e.value,e.value,e)}))},e(Pe,H),Pe.prototype.entrySeq=function(){return this._iter.toSeq()},Pe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){He(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Pe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new I((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){He(r);var o=a(r);return M(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}}))},xe.prototype.cacheResult=je.prototype.cacheResult=Ce.prototype.cacheResult=Pe.prototype.cacheResult=Ve,e(Qe,pt),Qe.prototype.toString=function(){return this.__toString(Ze(this)+" {","}")},Qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Xe(this,Kt()))},Qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ze(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Xe(this,n)},Qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Xe(this,e)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()},Qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Xe(this,e,t):(this.__ownerID=t,this._map=e,this)};var Ye=Qe.prototype;function Xe(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ze(t){return t._name||t.constructor.name||"Record"}function tn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){st(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function en(t){return null==t?sn():nn(t)&&!l(t)?t:sn().withMutations((function(e){var n=i(t);Pt(n.size),n.forEach((function(t){return e.add(t)}))}))}function nn(t){return!(!t||!t[on])}Ye.delete=Ye.remove,Ye.deleteIn=Ye.removeIn=It.removeIn,Ye.merge=It.merge,Ye.mergeWith=It.mergeWith,Ye.mergeIn=It.mergeIn,Ye.mergeDeep=It.mergeDeep,Ye.mergeDeepWith=It.mergeDeepWith,Ye.mergeDeepIn=It.mergeDeepIn,Ye.setIn=It.setIn,Ye.update=It.update,Ye.updateIn=It.updateIn,Ye.withMutations=It.withMutations,Ye.asMutable=It.asMutable,Ye.asImmutable=It.asImmutable,e(en,dt),en.of=function(){return this(arguments)},en.fromKeys=function(t){return this(r(t).keySeq())},en.prototype.toString=function(){return this.__toString("Set {","}")},en.prototype.has=function(t){return this._map.has(t)},en.prototype.add=function(t){return un(this,this._map.set(t,!0))},en.prototype.remove=function(t){return un(this,this._map.remove(t))},en.prototype.clear=function(){return un(this,this._map.clear())},en.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},en.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},en.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},en.prototype.merge=function(){return this.union.apply(this,arguments)},en.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},en.prototype.sort=function(t){return ln(Be(this,t))},en.prototype.sortBy=function(t,e){return ln(Be(this,e,t))},en.prototype.wasAltered=function(){return this._map.wasAltered()},en.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},en.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},en.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},en.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=en.prototype;function un(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function cn(t,e){var n=Object.create(an);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function sn(){return rn||(rn=cn(Kt()))}function ln(t){return null==t?yn():fn(t)?t:yn().withMutations((function(e){var n=i(t);Pt(n.size),n.forEach((function(t){return e.add(t)}))}))}function fn(t){return nn(t)&&l(t)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=It.withMutations,an.asMutable=It.asMutable,an.asImmutable=It.asImmutable,an.__empty=sn,an.__make=cn,e(ln,en),ln.of=function(){return this(arguments)},ln.fromKeys=function(t){return this(r(t).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var pn,hn=ln.prototype;function dn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function yn(){return pn||(pn=dn(Ee()))}function vn(t){return null==t?Sn():mn(t)?t:Sn().unshiftAll(t)}function mn(t){return!(!t||!t[gn])}hn[d]=!0,hn.__empty=yn,hn.__make=dn,e(vn,ht),vn.of=function(){return this(arguments)},vn.prototype.toString=function(){return this.__toString("Stack [","]")},vn.prototype.get=function(t,e){var n=this._head;for(t=O(this,t);n&&t--;)n=n.next;return n?n.value:e},vn.prototype.peek=function(){return this._head&&this._head.value},vn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):wn(t,e)},vn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Pt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):wn(e,n)},vn.prototype.pop=function(){return this.slice(1)},vn.prototype.unshift=function(){return this.push.apply(this,arguments)},vn.prototype.unshiftAll=function(t){return this.pushAll(t)},vn.prototype.shift=function(){return this.pop.apply(this,arguments)},vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sn()},vn.prototype.slice=function(t,e){if(k(t,e,this.size))return this;var n=j(t,this.size);if(x(e,this.size)!==this.size)return ht.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):wn(r,o)},vn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},vn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new I((function(){if(r){var e=r.value;return r=r.next,M(t,n++,e)}return{value:void 0,done:!0}}))},vn.isStack=mn;var bn,gn="@@__IMMUTABLE_STACK__@@",_n=vn.prototype;function wn(t,e,n,r){var o=Object.create(_n);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Sn(){return bn||(bn=wn(0))}function On(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}_n[gn]=!0,_n.withMutations=It.withMutations,_n.asMutable=It.asMutable,_n.asImmutable=It.asImmutable,_n.wasAltered=It.wasAltered,n.Iterator=I,On(n,{toArray:function(){Pt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new xe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new je(this,!0)},toMap:function(){return Nt(this.toKeyedSeq())},toObject:function(){Pt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return we(this.toKeyedSeq())},toOrderedSet:function(){return ln(u(this)?this.valueSeq():this)},toSet:function(){return en(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Ce(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return vn(u(this)?this.valueSeq():this)},toList:function(){return oe(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Fe(this,De(this,e))},includes:function(t){return this.some((function(e){return at(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Pt(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1})),n},filter:function(t,e){return Fe(this,Ae(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Pt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Pt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Fe(this,Re(this,t,e))},reduce:function(t,e,n){var r,o;return Pt(this.size),arguments.length<2?o=!0:r=e,this.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Fe(this,Te(this,!0))},slice:function(t,e){return Fe(this,Ie(this,t,e,!0))},some:function(t,e){return!this.every(Cn(t),e)},sort:function(t){return Fe(this,Be(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Nt().asMutable();return t.__iterate((function(o,i){r.update(e.call(n,o,i,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ut(this,t)},entrySeq:function(){var t=this;if(t._cache)return new $(t._cache);var e=t.toSeq().map(xn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Cn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(E)},flatMap:function(t,e){return Fe(this,function(t,e,n){var r=We(t);return t.toSeq().map((function(o,i){return r(e.call(n,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Fe(this,Le(this,t,!0))},fromEntrySeq:function(){return new Pe(this)},get:function(t,e){return this.find((function(e,n){return at(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,o=Je(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,y):y)===y)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=u(t),o=(l(t)?we():Nt()).asMutable();t.__iterate((function(i,a){o.update(e.call(n,i,a,t),(function(t){return(t=t||[]).push(r?[a,i]:i),t}))}));var i=We(t);return o.map((function(e){return Fe(t,i(e))}))}(this,t,e)},has:function(t){return this.get(t,y)!==y},hasIn:function(t){return this.getIn(t,y)!==y},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return at(e,t)}))},keySeq:function(){return this.toSeq().map(jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ze(this,t)},maxBy:function(t,e){return ze(this,e,t)},min:function(t){return ze(this,t?Pn(t):Tn)},minBy:function(t,e){return ze(this,e?Pn(e):Tn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Fe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Fe(this,Me(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Cn(t),e)},sortBy:function(t,e){return Fe(this,Be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Fe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Fe(this,function(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate((function(t,o,u){return e.call(n,t,o,u)&&++a&&r(t,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),u=!0;return new I((function(){if(!u)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,c=o[0],s=o[1];return e.call(n,s,c,i)?2===r?t:M(r,c,s,t):(u=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Cn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=u(t),r=e?1:0;return function(t,e){return e=yt(e,3432918353),e=yt(e<<15|e>>>-15,461845907),e=yt(e<<13|e>>>-13,5),e=yt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=vt((e=yt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+An(mt(t),mt(e))|0}:function(t,e){r=r+An(mt(t),mt(e))|0}:e?function(t){r=31*r+mt(t)|0}:function(t){r=r+mt(t)|0}),r)}(this))}});var En=n.prototype;En[f]=!0,En[A]=En.values,En.__toJS=En.toArray,En.__toStringMapper=Nn,En.inspect=En.toSource=function(){return this.toString()},En.chain=En.flatMap,En.contains=En.includes,On(r,{flip:function(){return Fe(this,Ne(this))},mapEntries:function(t,e){var n=this,r=0;return Fe(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Fe(this,this.toSeq().flip().map((function(r,o){return t.call(e,r,o,n)})).flip())}});var kn=r.prototype;function jn(t,e){return e}function xn(t,e){return[e,t]}function Cn(t){return function(){return!t.apply(this,arguments)}}function Pn(t){return function(){return-t.apply(this,arguments)}}function Nn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function Rn(){return w(arguments)}function Tn(t,e){return t<e?1:t>e?-1:0}function An(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return kn[p]=!0,kn[A]=En.entries,kn.__toJS=En.toObject,kn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Nn(t)},On(o,{toKeyedSeq:function(){return new je(this,!1)},filter:function(t,e){return Fe(this,Ae(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Fe(this,Te(this,!1))},slice:function(t,e){return Fe(this,Ie(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=j(t,t<0?this.count():this.size);var r=this.slice(0,t);return Fe(this,1===n?r:r.concat(w(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Fe(this,Le(this,t,!1))},get:function(t,e){return(t=O(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=O(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Fe(this,function(t,e){var n=$e(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate((function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(1,r),a=0;return new I((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?M(n,a++,e):M(n,a++,o.value,o)}))},n}(this,t))},interleave:function(){var t=[this].concat(w(arguments)),e=qe(this.toSeq(),K.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Fe(this,n)},keySeq:function(){return lt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Fe(this,Me(this,t,e,!1))},zip:function(){var t=[this].concat(w(arguments));return Fe(this,qe(this,Rn,t))},zipWith:function(t){var e=w(arguments);return e[0]=this,Fe(this,qe(this,t,e))}}),o.prototype[h]=!0,o.prototype[d]=!0,On(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=En.includes,i.prototype.contains=i.prototype.includes,On(H,r.prototype),On(K,o.prototype),On(W,i.prototype),On(pt,r.prototype),On(ht,o.prototype),On(dt,i.prototype),{Iterable:n,Seq:F,Collection:ft,Map:Nt,OrderedMap:we,List:oe,Stack:vn,Set:en,OrderedSet:ln,Record:Qe,Range:lt,Repeat:ct,is:at,fromJS:rt}}()},function(t,e,n){var r;void 0===(r=function(){var t=Math.pow(2,53)-1;return function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return function(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return function(t){return t&&"object"==typeof t||!1}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(100),n(5)],void 0===(o=function(t,e){var n=/^\[object .+?Constructor\]$/,r=Object.prototype,o=Function.prototype.toString,i=r.toString,a=RegExp("^"+t(i).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return function(t){return null!=t&&("[object Function]"==i.call(t)?a.test(o.call(t)):e(t)&&n.test(t)||!1)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(3),n(6),n(5)],void 0===(o=function(t,e,n){var r=Object.prototype.toString,o=e(o=Array.isArray)&&o;return o||function(e){return n(e)&&t(e.length)&&"[object Array]"==r.call(e)||!1}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(60),n(61),n(2)],void 0===(o=function(t,e,n){"use strict";function r(t){return t.nodeType===Node.TEXT_NODE}function o(t,e){return function(n){return n.nodeType===t.ELEMENT_NODE&&n.className===e}}function i(t,e){return!(e.nodeType!==t.TEXT_NODE||!/^\s*$/.test(e.nodeValue))}function a(t,e){for(;e.childNodes.length>0;)t.insertBefore(e.childNodes[0],e);t.removeChild(e)}return{isInlineElement:function(e){return t.includes(e.nodeName)},isBlockElement:function(t){return e.includes(t.nodeName)},isEmptyInlineElement:function t(e){return!(e.children.length>1)&&((1!==e.children.length||""===e.textContent.trim())&&(0===e.children.length?""===e.textContent.trim():t(e.children[0])))},isText:r,isEmptyTextNode:function(t){return r(t)&&""===t.data},isWhitespaceOnlyTextNode:i,isTextNodeWithContent:function(t,e){return e.nodeType===t.TEXT_NODE&&!i(t,e)},isFragment:function(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE},isBefore:function(t,e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING},isSelectionMarkerNode:function(t){return o(Node,"scribe-marker")(t)},isCaretPositionNode:function(t){return o(Node,"caret-position")(t)},firstDeepestChild:function t(e){var n=e.firstChild;return n&&"BR"!==n.nodeName?t(n):e},insertAfter:function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},removeNode:function(t){return t.parentNode.removeChild(t)},getAncestor:function(t,e,n){function r(t){return e===t}if(!r(t))for(var o=t.parentNode;o&&!r(o);){if(n(o))return o;o=o.parentNode}},nextSiblings:function(t){for(var e=n.List();t=t.nextSibling;)e=e.push(t);return e},wrap:function(t,e){return t[0].parentNode.insertBefore(e,t[0]),t.forEach((function(t){e.appendChild(t)})),e},unwrap:a,removeChromeArtifacts:function(e){var r=n.List(e.querySelectorAll(t.map((function(t){return t+'[style*="line-height"]'})).join(",")));r=r.filter(function(t,e){return window.getComputedStyle(e).lineHeight===t.lineHeight}.bind(null,window.getComputedStyle(e)));var o=n.List();r.forEach((function(t){t.style.lineHeight=null,""===t.getAttribute("style")&&t.removeAttribute("style"),"SPAN"===t.nodeName&&0===t.attributes.length&&(o=o.push(t))})),o.forEach((function(t){a(t.parentNode,t)}))},elementHasClass:o,hasContent:function(t){return!!(t&&t.children&&t.children.length>0)||!(!t||"BR"!==t.nodeName)}}}.apply(e,r))||(t.exports=o)},function(t,e,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new i},s=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,l=n(46)(),f=n(48)(),p=Object.getPrototypeOf||(f?function(t){return t.__proto__}:null),h={},d="undefined"!=typeof Uint8Array&&p?p(Uint8Array):void 0,y={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l&&p?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&p?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l&&p?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l&&p?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&p?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":s,"%TypedArray%":d,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(p)try{null.error}catch(t){var v=p(p(t));y["%Error.prototype%"]=v}var m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(10),g=n(50),_=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),O=b.call(Function.call,String.prototype.slice),E=b.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,x=function(t){var e=O(t,0,1),n=O(t,-1);if("%"===e&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return S(t,k,(function(t,e,n,r){o[o.length]=n?S(r,j,"$1"):e||t})),o},C=function(t,e){var n,o=t;if(g(m,o)&&(o="%"+(n=m[o])[0]+"%"),g(y,o)){var u=y[o];if(u===h&&(u=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&p&&(n=p(o.prototype))}return y[e]=n,n}(o)),void 0===u&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:u}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new i('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,t))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=x(t),o=n.length>0?n[0]:"",a=C("%"+o+"%",e),c=a.name,s=a.value,l=!1,f=a.alias;f&&(o=f[0],w(n,_([0,1],f)));for(var p=1,h=!0;p<n.length;p+=1){var d=n[p],v=O(d,0,1),m=O(d,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new r("property names with quotes must have matching quotes");if("constructor"!==d&&h||(l=!0),g(y,c="%"+(o+="."+d)+"%"))s=y[c];else if(null!=s){if(!(d in s)){if(!e)throw new i("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&p+1>=n.length){var b=u(s,d);s=(h=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:s[d]}else h=g(s,d),s=s[d];h&&!l&&(y[c]=s)}}return s}},function(t,e,n){"use strict";var r=n(49);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:a}},function(t,e,n){var r,o;r=[n(3),n(5)],void 0===(o=function(t,e){var n=Object.prototype.toString;return function(r){var o=e(r)?r.length:void 0;return t(o)&&"[object Arguments]"==n.call(r)||!1}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){var t=Math.pow(2,53)-1;return function(e,n){return n=null==n?t:n,(e=+e)>-1&&e%1==0&&e<n}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(12),n(7),n(13),n(3),n(4),n(28)],void 0===(o=function(t,e,n,r,o,i){var a=Object.prototype.hasOwnProperty;return function(u){if(null==u)return[];o(u)||(u=Object(u));var c=u.length;c=c&&r(c)&&(e(u)||i.nonEnumArgs&&t(u))&&c||0;for(var s=u.constructor,l=-1,f="function"==typeof s&&s.prototype===u,p=Array(c),h=c>0;++l<c;)p[l]=l+"";for(var d in u)h&&n(d,c)||"constructor"==d&&(f||!a.call(u,d))||p.push(d);return p}}.apply(e,r))||(t.exports=o)},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(a,t);var e,n,r,i=s(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).start=null,e.end=null,e.onChange=e.onChange.bind(f(e)),e.renderInput=e.renderInput.bind(f(e)),e}return e=a,(n=[{key:"onChange",value:function(t){t.preventDefault&&t.preventDefault();var e={};e.start=this.start.value,e.end=this.end.value,this.props.updateMeta(e)}},{key:"renderInput",value:function(){var t=this,e=this.props.content.meta;return o.a.createElement("div",{className:"katap-embed-inp-container"},o.a.createElement("form",{onSubmit:this.onChange},o.a.createElement("label",null,"Start Time: ",o.a.createElement("input",{type:"text",ref:function(e){t.start=e},defaultValue:e.start||""})),o.a.createElement("label",null,"End Time: ",o.a.createElement("input",{type:"text",ref:function(e){t.end=e},defaultValue:e.end||""})),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.onChange},"Update")))}},{key:"render",value:function(){if(this.state.valid){if(!this.state.preview)return o.a.createElement("div",{className:"katap-embed katap-youtube"},o.a.createElement("p",null,"Youtube Video - ",o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.url)),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview"));var t="//youtube.com/embed/"+this.state.id+"?",e=this.props.content.meta;return e.start&&""!==e.start&&(t+="start="+e.start+"&"),e.end&&""!==e.end&&(t+="end="+e.end),o.a.createElement("div",{className:"katap-embed katap-youtube"},o.a.createElement("iframe",{src:t,title:"youtube-embed-".concat(this.state.id),frameBorder:0,width:580,height:320,allowFullScreen:!0}))}return o.a.createElement("div",{className:"katap-embed"},"Invalid Youtube URL.")}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a);h.defaultProps={url:"",regex:/^.*(?:(?:youtu\.be\/)|(?:youtube\.com)\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*)/};var d=h;function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,n,r,i=g(a);function a(){return v(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return this.state.valid?this.state.preview?o.a.createElement("div",{className:"katap-embed katap-vimeo"},o.a.createElement("iframe",{title:"vimeo-embed-".concat(this.state.id),src:"//player.vimeo.com/video/"+this.state.id,frameBorder:0,width:580,height:320,allowFullScreen:!0})):o.a.createElement("div",{className:"katap-embed katap-vimeo"},o.a.createElement("p",null,"Vimeo - ",o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.url)),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):o.a.createElement("div",{className:"katap-embed"},"Invalid Vimeo URL.")}}])&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a);S.defaultProps={url:"",regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+(?:\/)([^/].*)+$)/};var O=S;function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N(t);if(e){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(a,t);var e,n,r,i=x(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).loadExternalScript=e.loadExternalScript.bind(P(e)),e}return e=a,(n=[{key:"loadExternalScript",value:function(){var t=this.props.scriptUrl,e=document.createElement("script");e.src=t,e.async=1,window.document.body.appendChild(e)}},{key:"extraHandler",value:function(){this.loadExternalScript()}},{key:"render",value:function(){return this.state.valid?this.state.preview?o.a.createElement("div",{className:"katap-embed katap-vine"},o.a.createElement("iframe",{className:"vine-embed",title:"vine-embed-".concat(this.state.id),src:"//vine.co/v/"+this.state.id+"/embed/postcard",frameBorder:0,width:600,height:600,allowFullScreen:!0})):o.a.createElement("div",{className:"katap-embed katap-vine"},o.a.createElement("p",null,"Vine - ",o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.url)),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):o.a.createElement("div",{className:"katap-embed"},"Invalid Vimeo URL.")}}])&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a);R.defaultProps={regex:/https?:\/\/vine\.co\/v\/([a-zA-Z0-9].*)\/?/,scriptUrl:"//platform.vine.co/static/scripts/embed.js"};var T=R;function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=z(t);if(e){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(a,t);var e,n,r,i=L(a);function a(){return I(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return this.state.valid?this.state.preview?o.a.createElement("div",{className:"katap-embed katap-instagram"},o.a.createElement("iframe",{src:"//instagram.com/p/"+this.state.id+"/embed",title:"instagram-embed-".concat(this.state.id),frameBorder:0,allowFullScreen:!0})):o.a.createElement("div",{className:"katap-embed katap-instagram"},o.a.createElement("p",null,"Instagram - ",o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.url)),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):o.a.createElement("div",{className:"katap-embed"},"Invalid Instagram URL.")}}])&&M(e.prototype,n),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a);U.defaultProps={url:"",regex:/https?:\/\/(?:www\.){0,1}instagram\.com\/p\/([^/]+)\/?.*/gi};var q=U;function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===F(i)?i:String(i)),r)}var o,i}function K(t,e){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(a,t);var e,n,r,i=W(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).state={message:"Wait",id:"",valid:!1,html:""},e.validate=e.validate.bind(V(e)),e.loadExternalScript=e.loadExternalScript.bind(V(e)),e}return e=a,(n=[{key:"componentDidMount",value:function(){this.validate()}},{key:"showPreview",value:function(){this.setState({preview:!this.state.preview}),this.loadExternalScript()}},{key:"loadExternalScript",value:function(){if(window.FB&&window.FB.init)window.FB.init({xfbml:!0,version:"v2.3"});else{var t=document.createElement("script");t.src=this.props.scriptUrl,t.async=1,window.document.body.appendChild(t)}}},{key:"validate",value:function(){var t;if(t=this.props.regex.exec(this.props.url),this.props.regex.lastIndex=0,!t)return this.props.checkContent(!1),void this.setState({message:"error."});var e='<div class="fb-post" data-href="'+this.props.url+'" data-width="750"></div>';this.props.url.indexOf("/videos/")>0&&(e='<div class="fb-video" data-href="'+this.props.url+'" data-allowfullscreen="true" data-width="750"></div>'),this.setState({message:"Loading Facebook embed...",id:t[1],valid:!0,html:e}),this.props.checkContent(!0)}},{key:"render",value:function(){return this.state.valid?this.state.preview?o.a.createElement("div",{className:"katap-embed katap-facebook",dangerouslySetInnerHTML:{__html:this.state.html}}):o.a.createElement("div",{className:"katap-embed katap-facebook"},o.a.createElement("p",null,"Facebook - ",o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.url)),o.a.createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):o.a.createElement("div",{className:"katap-embed katap-twitter"},"This fb URL is not supported.")}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a);J.defaultProps={url:"",regex:/https?:\/\/www\.facebook\.com\/(?:.*)\/(videos|posts|photos)\/(\d+).*/gi,scriptUrl:"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3"};var Q=J;e.default={youtube:d,instagram:q,vimeo:O,vine:T,facebook:Q}},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+"-"+t()}n.r(e);var o=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,i=n(0),a=n.n(i),u="up",c="down",s="remove";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===l(i)?i:String(i)),r)}var o,i}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(i,t);var e,n,r,o=h(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).handleClick=e.handleClick.bind(y(e)),e.getToolbar=e.getToolbar.bind(y(e)),e}return e=i,(n=[{key:"handleClick",value:function(t){var e=Array.prototype.slice.call(t.currentTarget.children),n=e.indexOf(t.target);if(!(n<0)){var r=e[n].getAttribute("data-action");this.props.blockAction(r,this.props.position)}}},{key:"getToolbar",value:function(t){if(this.props.onlyRemove)return a.a.createElement("div",{className:this.props.className,onClick:this.handleClick},a.a.createElement("button",{title:"Remove","data-action":s,key:s},""));var e=[];return 0===t&&this.props.length<2?e.push(a.a.createElement("button",{title:"Delete","data-action":s,key:s},"")):0===t?(e.push(a.a.createElement("button",{title:"Delete","data-action":s,key:s},"")),e.push(a.a.createElement("button",{title:"Move Down","data-action":c,key:c},""))):t===this.props.length-1?(e.push(a.a.createElement("button",{title:"Delete","data-action":s,key:s},"")),e.push(a.a.createElement("button",{title:"Move Up","data-action":u,key:u},""))):(e.push(a.a.createElement("button",{title:"Delete","data-action":s,key:s},"")),e.push(a.a.createElement("button",{title:"Move Up","data-action":u,key:u},"")),e.push(a.a.createElement("button",{title:"Move Down","data-action":c,key:c},""))),a.a.createElement("div",{className:this.props.className,onClick:this.handleClick},e)}},{key:"render",value:function(){return this.getToolbar(this.props.position)}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component);m.defaultProps={onlyRemove:!1,className:"katap-control-toolbar"};var b=m,g=n(34),_=n.n(g),w=13,S=27;function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===O(i)?i:String(i)),r)}var o,i}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return C(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=n(15);var R={Name:"embed",Icon:"",Empty:function(){return{url:"",subtext:"",meta:{}}},maximumBlocks:0,Description:"Embed",isEmpty:function(t){return""===t},EmbedTypes:N},T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,n,r,i=j(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).state={loaded:!1,domain:"",url:"",className:"",urlInput:""},e.urlInputNode=null,e.getClassName=e.getClassName.bind(C(e)),e.checkUrls=e.checkUrls.bind(C(e)),e.handleUrl=e.handleUrl.bind(C(e)),e.checkContent=e.checkContent.bind(C(e)),e.renderBlock=e.renderBlock.bind(C(e)),e.changeSubtext=e.changeSubtext.bind(C(e)),e.updateMeta=e.updateMeta.bind(C(e)),e.onDrop=e.onDrop.bind(C(e)),e.onDragEnter=e.onDragEnter.bind(C(e)),e.onDragOver=e.onDragOver.bind(C(e)),e.onDragLeave=e.onDragLeave.bind(C(e)),e}return e=u,(n=[{key:"getClassName",value:function(){return"katap-block katap-embed "+(this.props.className||this.state.className)}},{key:"checkUrls",value:function(t,e){if(t.indexOf("http")<0&&(t="https://"+t),o.test(t)){var n=(a=t,"youtu.be"===(u=_.a.parse(a)).hostname?"youtube.com":u.hostname),r=this.props.EmbedTypes;for(var i in r)if(n.indexOf(i)>-1)return void this.setState({loaded:!0,domain:i,url:t});alert("This URL is not supported."),this.setState({urlInput:""})}else e||(alert("Enter a valid url"),this.setState({urlInput:""}));var a,u;o.lastIndex=0}},{key:"handleUrl",value:function(t){t.keyCode===w&&this.checkUrls(t.target.value,!1)}},{key:"componentDidMount",value:function(){""===this.props.content.url&&this.urlInputNode.focus(),this.checkUrls(this.props.content.url,!0)}},{key:"checkContent",value:function(t,e){if(t&&this.props.onContentChanged){var n=this.props.content;n.url=this.state.url,this.props.onContentChanged(this.props.position,n)}else alert(e)}},{key:"changeSubtext",value:function(t){if(this.props.onContentChanged){var e=this.props.content;e.subtext=t.target.value,this.props.onContentChanged(this.props.position,e)}}},{key:"updateMeta",value:function(t){var e=this.props.content;e.meta=t,this.props.onContentChanged(this.props.position,e)}},{key:"onDragEnter",value:function(t){t.preventDefault(),t.stopPropagation(),this.setState({className:"katap-embed-dragover"})}},{key:"onDragOver",value:function(t){return t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="move",!1}},{key:"onDrop",value:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),this.setState({className:""});var e=t.dataTransfer.getData("URL");""===e&&(e=t.dataTransfer.getData("text")),""!==e&&this.checkUrls(e,!1)}},{key:"onDragLeave",value:function(t){this.setState({className:"katap-block katap-embed"})}},{key:"renderBlock",value:function(){var t=this.props.EmbedTypes[this.state.domain];return a.a.createElement(t,{url:this.state.url,checkContent:this.checkContent,content:this.props.content,updateMeta:this.updateMeta})}},{key:"render",value:function(){var t=this,e=this.props.content;return this.state.loaded?a.a.createElement("div",{className:"katap-block"},this.renderBlock(),a.a.createElement("input",{type:"text",placeholder:"Embed subtext",onChange:this.changeSubtext,value:e.subtext})):a.a.createElement("div",{className:this.getClassName(),onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},a.a.createElement("p",null,"Drop links here or paste below"),a.a.createElement("input",{ref:function(e){t.urlInputNode=e},type:"text",placeholder:"Enter URL and press enter",onChange:function(e){t.setState({urlInput:e.target.value})},onKeyUp:this.handleUrl,value:this.state.urlInput}),a.a.createElement("p",null,"Supported embeds: ",Object.keys(this.props.EmbedTypes).join(", ")))}}])&&E(e.prototype,n),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(a.a.Component);T.defaultProps={EmbedTypes:N},R.React=T;var A=R,I=n(16),M=n.n(I),D=n(35),L=n.n(D),B=n(36),z=n.n(B),U=n(37),q=n.n(U),F=n(38),H=n.n(F),K=n(39),W=n.n(K),$=n(40),V=n.n($),G=n(41),J=n.n(G),Q={tags:{p:{},br:!1,b:{},strong:function(t){return t.classList.contains("drop-cap")?{class:!0}:{}},i:{},em:{},strike:{},ol:{},ul:{},li:{},a:{href:!0,target:!0},h2:{},h3:{},u:{}}},Y=Object.assign({},Q,{tags:Object.assign({},Q.tags,{blockquote:{}})}),X={tags:{br:!1,b:{},strong:{},em:{},i:{},u:{},a:{href:!0,target:!0},strike:{}}},Z=[{command:"bold",icon:"bold"},{command:"italic",icon:"italic"},{command:"underline",icon:"underline"},{command:"link",icon:"link"},{command:"h3",icon:"header"}],tt={h3:function(t){return(t.metaKey||t.ctrlKey)&&51===t.which},setDropCap:function(t){return t.ctrlKey&&t.shiftKey&&68===t.keyCode}};function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===et(i)?i:String(i)),r)}var o,i}function rt(t,e){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ut(t);if(e){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(i,t);var e,n,r,o=ot(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={showToolbar:!1,showLinkInput:!1,placeholder:!0},e.scribe=null,e.dom=null,e._updated=!1,e.tempRange=null,e.scrollY=-1,e.scribeeditor=null,e.toolbar=null,e.linkinput=null,e.placeCaretAtEnd=e.placeCaretAtEnd.bind(at(e)),e.captureReturn=e.captureReturn.bind(at(e)),e.handleCommand=e.handleCommand.bind(at(e)),e.onSelect=e.onSelect.bind(at(e)),e._onSelect=e._onSelect.bind(at(e)),e.handleLink=e.handleLink.bind(at(e)),e.handleLinkShortcut=e.handleLinkShortcut.bind(at(e)),e.onBlur=function(){e.state.showLinkInput||e.setState({showToolbar:!1,showLinkInput:!1})},e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;this.dom=M.a.findDOMNode(this.scribeeditor),this.scribe=new L.a(this.dom),this.props.inline||this.scribe.use(V()()),this.scribe.use((function(t){var e=new t.api.Command("createLink");e.nodeName="A",e.execute=function(e){var n,r=this,o=new t.api.Selection,i=o.range,a=o.getContaining((function(t){return t.nodeName===r.nodeName}));a&&(i.selectNode(a),o.selection.removeAllRanges(),o.selection.addRange(i)),e&&t.api.SimpleCommand.prototype.execute.call(this,0===(n=e).indexOf("http://")||0===n.indexOf("https://")?n:n.indexOf("@")>=0?"mailto:"+n:0===n.indexOf("+")?"tel:"+n:"http://"+n)},e.queryState=function(){return!!(new t.api.Selection).getContaining(function(t){return t.nodeName===this.nodeName}.bind(this))},e.getCurrentLink=function(){var e=this,n=(new t.api.Selection).getContaining((function(t){return t.nodeName===e.nodeName}));return n?n.href:""},t.commands.setLink=e})),this.scribe.use(H()()),this.scribe.use(z()()),this.scribe.use(q()(this.props.options)),this.scribe.use(W()()),this.scribe.use(J()(3)),this.scribe.use(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return function(e){e.el.addEventListener("keydown",(function(n){var r="";for(var o in t)if(t.hasOwnProperty(o)&&t[o](n)){r=o;break}if(r){var i=e.getCommand(r);n.preventDefault(),i.queryEnabled()&&i.execute()}}))}}()),this.scribe.use((function(t){var e=new t.api.Command("createDropCap");e.execute=function(){var e=new t.api.Selection,n=e.range;if(n.endOffset===n.startOffset+1){var r=e.selection.anchorNode.parentElement,o="";"STRONG"===r.nodeName&&r.className.includes("drop-cap")?(o=document.createTextNode(e.selection.toString()),r.remove()):((o=document.createElement("strong")).classList.add("drop-cap"),o.innerHTML=e.selection.toString(),n.deleteContents()),n.insertNode(o)}},e.queryEnabled=function(){return!0},t.commands.setDropCap=e})),(this.props.inline||this.props.enterCapture)&&this.scribe.el.addEventListener("keydown",this.captureReturn),this.scribe.on("scribe:content-changed",(function(){!function(t){var e=t.el.childNodes,n=e.length;if(0===n)return!0;if(1===n){var r=e[0];if("p"===r.nodeName.toLowerCase()&&""===r.textContent)return!0}return!1}(t.scribe)?t.state.placeholder&&t.setState({placeholder:!1}):t.state.placeholder||t.setState({placeholder:!0}),t.props.onContentChanged(t.scribe.getHTML())})),this.scribe.setContent(this.props.content),this.props.onFocus&&this.scribe.el.addEventListener("focus",this.props.onFocus),this.scribe.el.addEventListener("blur",this.onBlur),this.props.content.length<12&&this.placeCaretAtEnd(),this.scribe.el.addEventListener("keydown",this.handleLinkShortcut)}},{key:"componentWillUnmount",value:function(){(this.props.inline||this.props.enterCapture)&&this.scribe.el.removeEventListener("keydown",this.captureReturn),this.scribe.el.removeEventListener("keydown",this.handleLinkShortcut),this.scribe.el.removeEventListener("focus",this.props.onFocus),this.scribe.el.removeEventListener("blur",this.onBlur),this.scribe.destroy(),this.dom=null,this.scribe=null,this.tempRange=null}},{key:"componentWillReceiveProps",value:function(t){this._updated&&(this._updated=!1)}},{key:"shouldComponentUpdate",value:function(t,e){return e.showToolbar!==this.state.showToolbar||e.showLinkInput!==this.state.showLinkInput||e.placeholder!==this.state.placeholder}},{key:"componentDidUpdate",value:function(){if(this.state.showToolbar){var t=this.toolbar,e=t.getBoundingClientRect(),n=window.getSelection().getRangeAt(0).getBoundingClientRect(),r=this.dom.getBoundingClientRect();t.style.top=n.top-r.top-e.height-5+"px";var o=n.width-e.width;if(o>=0)t.style.left=o/2+"px";else{var i=n.left-r.left;i+e.width>r.width?t.style.right="0px":t.style.left=i+o/2+"px"}}}},{key:"placeCaretAtEnd",value:function(){var t=this.dom;if(t.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(t),r.collapse(!1),r.select()}}},{key:"captureReturn",value:function(t){t.ctrlKey||t.shiftKey||t.altKey||t.metaKey||t.which===w&&((this.props.inline||this.props.enterCapture)&&t.preventDefault(),this.props.captureReturn&&this.props.captureReturn())}},{key:"_onSelect",value:function(){(new this.scribe.api.Selection).range.collapsed||this.state.showToolbar?this.setState({showToolbar:!1,showLinkInput:!1}):this.setState({showToolbar:!0,showLinkInput:!1})}},{key:"onSelect",value:function(t){var e=this;setTimeout((function(){e._onSelect()}),0)}},{key:"handleLink",value:function(t){var e=this;if(t.which===S)t.stopPropagation(),this.scrollY=window.pageYOffset,this.setState({showLinkInput:!1,showToolbar:!0},(function(){var t=new e.scribe.api.Selection;e.scribe.el.focus(),t.selection.removeAllRanges(),t.selection.addRange(e.tempRange),-1!==e.scrollY&&(window.scrollTo(0,e.scrollY),e.scrollY=-1)}));else if(t.which===w){t.preventDefault(),t.stopPropagation(),this.scrollY=window.pageYOffset;var n=t.target.value,r=new this.scribe.api.Selection;this.scribe.el.focus(),r.selection.removeAllRanges(),-1!==this.scrollY&&(window.scrollTo(0,this.scrollY),this.scrollY=-1),r.selection.addRange(this.tempRange),n.length<1?(this.scribe.getCommand("unlink").execute("unlink"),this.setState({showLinkInput:!1,showToolbar:!0})):(this.scribe.getCommand("setLink").execute(n),this.setState({showLinkInput:!1,showToolbar:!0}))}}},{key:"handleLinkShortcut",value:function(t){75===t.which&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),(new this.scribe.api.Selection).range.collapsed||this.handleCommand("link"))}},{key:"handleCommand",value:function(t){var e=this;if("link"===t)if(this.state.showLinkInput)this.setState({showLinkInput:!1,showToolbar:!0});else{var n=this.scribe.getCommand("setLink").getCurrentLink();this.setState({showLinkInput:!0,showToolbar:!0},(function(){e.tempRange=(new e.scribe.api.Selection).range,setTimeout((function(){e.linkinput.focus(),e.linkinput.select(),e.linkinput.value=n}),0)}))}else this.scribe.getCommand(t).execute(t)}},{key:"splitAtCursor",value:function(){return this.scribe.getCommand("insertHTML").execute(this.scribe._htmlFormatterFactory.format("<p><br></p>")),this.scribe.getHTML()}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"katap-scribe-container"},this.state.showToolbar?a.a.createElement("div",{className:"katap-scribe-toolbar"+(this.state.showLinkInput?" katap-link-inp-visible":""),ref:function(e){t.toolbar=e}},this.state.showLinkInput?a.a.createElement("input",{ref:function(e){t.linkinput=e},type:"text",className:"katap-scribe-link-input",placeholder:"Paste and ENTER",onKeyDown:this.handleLink}):Z.map((function(e){var n="katap-inline-toolbar-btn katap-inline-btn-"+e.command;return a.a.createElement("button",{className:n,key:e.command,title:e.command.toUpperCase(),onMouseDown:function(){return t.handleCommand(e.command)}},a.a.createElement("i",{className:"fa fa-"+e.icon}))}))):null,a.a.createElement("div",{ref:function(e){t.scribeeditor=e},className:"katap-medium-editor markdown-body",onKeyUp:this.onSelect,onMouseUp:this.onSelect,contentEditable:!0}),this.state.placeholder?a.a.createElement("div",{className:"scribe-plugin-placeholder",style:{top:0,left:2}},this.props.placeholder):null)}}])&&nt(e.prototype,n),r&&nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==st(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===st(i)?i:String(i)),r)}var o,i}function ft(t,e){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yt(t);if(e){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ct.defaultProps={options:Q,inline:!1,placeholder:"Write your story..."};var vt={Name:"text",React:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}(i,t);var e,n,r,o=pt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).captureReturn=e.captureReturn.bind(dt(e)),e.onContentChanged=e.onContentChanged.bind(dt(e)),e.splitBlock=e.splitBlock.bind(dt(e)),e}return e=i,(n=[{key:"captureReturn",value:function(){this.props.addBlock("text",this.props.position)}},{key:"onContentChanged",value:function(t){this.props.onContentChanged&&this.props.onContentChanged(this.props.position,t)}},{key:"splitBlock",value:function(t){this.props.splitBlock(this.props.position)}},{key:"render",value:function(){return a.a.createElement("div",{className:"katap-block katap-text"},a.a.createElement("div",{className:"katap-toolbar-wrapper katap-clearfix"},a.a.createElement("button",{className:"katap-splitter",onClick:this.splitBlock,title:"Click to split this block. Content should be separated by a new line."},"</>")),a.a.createElement(ct,{content:this.props.content,options:Y,onContentChanged:this.onContentChanged}))}}])&&lt(e.prototype,n),r&&lt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component),Icon:"",Empty:function(){return"<p><br></p>"},maximumBlocks:0,Description:"Text",isEmpty:function(t){return""===t.replace(/(<([^>]+)>)/gi,"")}};function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==mt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===mt(i)?i:String(i)),r)}var o,i}function _t(t,e){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ot(t);if(e){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et={Name:"h2",React:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=wt(i);function i(){return bt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"captureReturn",value:function(){this.props.addBlock("text",this.props.position)}},{key:"render",value:function(){return a.a.createElement("h2",{className:"katap-block katap-h2"},a.a.createElement(ct,{options:X,content:this.props.content,captureReturn:this.captureReturn,onContentChanged:this.onContentChanged,placeholder:"Heading",enterCapture:!0}))}}])&&gt(e.prototype,n),r&&gt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(vt.React),Icon:"",Empty:function(){return"<p><br></p>"},maximumBlocks:0,Description:"Heading",isEmpty:function(t){return""===t.replace(/(<([^>]+)>)/gi,"")}};function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==kt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===kt(i)?i:String(i)),r)}var o,i}function Ct(t,e){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nt(this,n)}}function Nt(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt={Name:"hr",React:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}(i,t);var e,n,r,o=Pt(i);function i(){return jt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("hr",{className:"katap-block katap-hr"})}}])&&xt(e.prototype,n),r&&xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component),Icon:"",Empty:function(){return""},maximumBlocks:0,Description:"Break",isEmpty:function(t){return!0}};function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==At(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===At(i)?i:String(i)),r)}var o,i}function Mt(t,e){return(Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zt(t);if(e){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bt(t)}function Bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}(i,t);var e,n,r,o=Dt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={className:""},e.fileEL=null,e.droppable=null,e.getClassName=e.getClassName.bind(Bt(e)),e.onDragEnter=e.onDragEnter.bind(Bt(e)),e.onDragOver=e.onDragOver.bind(Bt(e)),e.onDragLeave=e.onDragLeave.bind(Bt(e)),e.onClick=e.onClick.bind(Bt(e)),e.onDrop=e.onDrop.bind(Bt(e)),e}return e=i,(n=[{key:"getClassName",value:function(){return"katap-droppable "+(this.props.className||this.state.className)}},{key:"onDragEnter",value:function(t){t.preventDefault(),t.stopPropagation(),this.setState({className:"katap-drop-active"})}},{key:"componentDidMount",value:function(){this.droppable.focus()}},{key:"onDragOver",value:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy",this.props.onDragOver&&this.props.onDragOver(t)}},{key:"onDragLeave",value:function(t){this.setState({className:""}),this.props.onDragLeave&&this.props.onDragLeave(t)}},{key:"onClick",value:function(){var t=this.fileEL;t.value=null,t.click()}},{key:"onDrop",value:function(t){var e;t.preventDefault(),t.dataTransfer?e=t.dataTransfer.files:t.target&&(e=t.target.files);for(var n=this.props.multiple?e.length:1,r=0;r<n;r++)e[r].preview=URL.createObjectURL(e[r]);this.props.onDrop&&(e=Array.prototype.slice.call(e,0,n),this.props.onDrop(e))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{ref:function(e){t.droppable=e},style:{height:100},className:this.getClassName(),onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onClick:this.onClick,onDrop:this.onDrop},a.a.createElement("input",{ref:function(e){t.fileEL=e},type:"file",style:{display:"none"},multiple:this.props.multiple,onChange:this.onDrop}),this.props.children)}}])&&It(e.prototype,n),r&&It(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component);Ut.defaultProps={supportClick:!0,multiple:!1};var qt=Ut;function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ft(i)?i:String(i)),r)}var o,i}function Kt(t,e){return(Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(t,e){if(e&&("object"===Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vt(t)}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}(u,t);var e,n,r,i=Wt(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).imgEl=null,e.handleImage=e.handleImage.bind(Vt(e)),e.changeItem=e.changeItem.bind(Vt(e)),e.handleKeyPress=e.handleKeyPress.bind(Vt(e)),e.imageLoaded=e.imageLoaded.bind(Vt(e)),e}return e=u,(n=[{key:"componentDidMount",value:function(){if(this.props.shouldPasteUrl){var t=this.props.content;t&&""!==t.url||this.imgEl.focus()}}},{key:"handleImage",value:function(t){var e=this,n=this.props.content;this.props.onFilesAdded(t,(function(t){t&&""!==t&&(n.url=t,e.props.onContentChanged(e.props.position,n))}),(function(t){alert("Error while uploading files.")}))}},{key:"changeItem",value:function(t,e){if(this.props.onContentChanged){var n=this.props.content;n[t]=e.target.value,this.props.onContentChanged(this.props.position,n)}}},{key:"handleKeyPress",value:function(t){if(t.which===w){if(o.test(t.target.value)){var e={};e.subtext=this.props.content.subtext,e.url=t.target.value,this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}else alert("Enter a valid URL.");o.lastIndex=0}}},{key:"imageLoaded",value:function(t){if(0===t.target.src.indexOf("blob:"))URL.revokeObjectURL(t.target.src);else{var e=this.props.content;e.width=t.target.naturalWidth,e.height=t.target.naturalHeight,this.props.onContentChanged(this.props.position,e)}}},{key:"render",value:function(){var t=this,e=this.props.content;return a.a.createElement("div",{className:"katap-block katap-image"},e&&""!==e.url?a.a.createElement("div",null,a.a.createElement("img",{src:e.url,onLoad:this.imageLoaded,alt:"Not loaded"}),a.a.createElement("input",{type:"text",className:"katap-image-subtext",placeholder:"Image subtext",onChange:this.changeItem.bind(this,"subtext"),value:e.subtext}),a.a.createElement("input",{type:"text",className:"katap-image-subtext",placeholder:"Image Alt Text",onChange:this.changeItem.bind(this,"alttext"),value:e.alttext}),a.a.createElement("input",{type:"text",className:"katap-image-subtext",placeholder:"Hyperlink",onChange:this.changeItem.bind(this,"hyperlink"),value:e.hyperlink})):a.a.createElement("div",null,this.props.shouldPasteUrl&&a.a.createElement("input",{ref:function(e){t.imgEl=e},type:"text",placeholder:"Paste URL of image and press enter",onKeyDown:this.handleKeyPress}),a.a.createElement(qt,{onDrop:this.handleImage},a.a.createElement("p",null,this.props.message))))}}])&&Ht(e.prototype,n),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(a.a.Component);Jt.defaultProps={message:"Or Drop image here or click to add.",shouldPasteUrl:!0,onFilesAdded:function(t){console.log(t)}};var Qt={Name:"image",React:Jt,Icon:"",Empty:function(){return{url:"",subtext:"",alttext:"",hyperlink:""}},maximumBlocks:0,Description:"Image",isEmpty:function(t){return""===t.url}};function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Yt(i)?i:String(i)),r)}var o,i}function Zt(t,e){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=re(t);if(e){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ne(t)}function ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(i,t);var e,n,r,o=te(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).captureReturn=e.captureReturn.bind(ne(e)),e.onContentChanged=e.onContentChanged.bind(ne(e)),e}return e=i,(n=[{key:"captureReturn",value:function(){this.props.addItem&&this.props.addItem(this.props.position)}},{key:"onContentChanged",value:function(t){this.props.onContentChanged&&this.props.onContentChanged(this.props.position,t)}},{key:"render",value:function(){return a.a.createElement(ct,{content:this.props.content,captureReturn:this.captureReturn,enterCapture:!0,options:X,onContentChanged:this.onContentChanged,placeholder:"Add list item..."})}}])&&Xt(e.prototype,n),r&&Xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ie(i)?i:String(i)),r)}var o,i}function ue(t,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fe(t);if(e){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(u,t);var e,n,o,i=ce(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).onContentChanged=e.onContentChanged.bind(le(e)),e.addItem=e.addItem.bind(le(e)),e.handleItemRemove=e.handleItemRemove.bind(le(e)),e.renderListItem=e.renderListItem.bind(le(e)),e}return e=u,(n=[{key:"onContentChanged",value:function(t,e){this.props.content[t].content=e,this.props.onContentChanged&&this.props.onContentChanged(this.props.position,this.props.content)}},{key:"addItem",value:function(t){if(!(t<0||t>=this.props.content.length)){var e=this.props.content;e.splice(t+1,0,{content:"<p><br></p>",key:r()}),this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}}},{key:"handleItemRemove",value:function(t,e){var n=this.props.content;n.splice(e,1),this.props.onContentChanged&&this.props.onContentChanged(this.props.position,n)}},{key:"renderListItem",value:function(){var t=this,e=[];return this.props.content.map((function(n,r){return e.push(a.a.createElement("li",{key:n.key},a.a.createElement(b,{onlyRemove:!0,blockAction:t.handleItemRemove,position:r,className:"katap-list-block-control",length:t.props.content.length}),a.a.createElement(oe,{position:r,content:n.content,addItem:t.addItem,onContentChanged:t.onContentChanged}))),null})),e}},{key:"render",value:function(){return a.a.createElement("ol",{className:"katap-block katap-list"},this.renderListItem())}}])&&ae(e.prototype,n),o&&ae(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(a.a.Component),he={Name:"ol",React:pe,Icon:"",Empty:function(){return[{content:"<p><br></p>",key:r()}]},maximumBlocks:0,Description:"Ordered List",isEmpty:function(t){for(var e=0;e<t.length;e++)if(""!==t[e].content.replace(/(<([^>]+)>)/gi,""))return!1;return!0}};pe.defaultProps={content:he.Empty()};var de=he;function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ye(i)?i:String(i)),r)}var o,i}function me(t,e){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=we(t);if(e){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(t,e){if(e&&("object"===ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _e(t)}function _e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(i,t);var e,n,r,o=be(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).onContentChanged=e.onContentChanged.bind(_e(e)),e.onCreditChange=e.onCreditChange.bind(_e(e)),e}return e=i,(n=[{key:"onContentChanged",value:function(t){var e={content:t,credit:this.props.content.credit};this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}},{key:"onCreditChange",value:function(t){var e={content:this.props.content.content,credit:t.target.value};this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}},{key:"render",value:function(){return a.a.createElement("blockquote",{className:"katap-block katap-text"},a.a.createElement(ct,{options:Q,content:this.props.content.content,onContentChanged:this.onContentChanged}),a.a.createElement("input",{className:"katap-blockquote-credit",type:"text",placeholder:"Credit",onChange:this.onCreditChange,value:this.props.content.credit}))}}])&&ve(e.prototype,n),r&&ve(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(vt.React),Oe={Name:"quote",React:Se,Icon:"",Empty:function(){return{content:"<p><br></p>",credit:""}},maximumBlocks:0,Description:"Block Quote",isEmpty:function(t){return""===t.content.replace(/(<([^>]+)>)/gi,"")}};Se.defaultProps={content:Oe.Empty()};var Ee=Oe;function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ke(i)?i:String(i)),r)}var o,i}function Ce(t,e){return(Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Re(t);if(e){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ce(t,e)}(i,t);var e,n,r,o=Pe(i);function i(){return je(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("ul",{className:"katap-block katap-list"},this.renderListItem())}}])&&xe(e.prototype,n),r&&xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(de.React),Ae={Name:"ul",React:Te,Icon:"",Empty:function(){return[{content:"<p><br></p>",key:r()}]},maximumBlocks:0,Description:"Unordered List",isEmpty:function(t){for(var e=0;e<t.length;e++)if(""!==t[e].content.replace(/(<([^>]+)>)/gi,""))return!1;return!0}};Te.defaultProps={content:Ae.Empty()};var Ie={text:vt,image:Qt,embed:A,quote:Ee,h2:Et,ol:de,ul:Ae,hr:Tt};function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Me(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Me(i)?i:String(i)),r)}var o,i}function Le(t,e){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qe(t);if(e){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(i,t);var e,n,r,o=Be(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={visible:!1},e.toggleState=e.toggleState.bind(Ue(e)),e.addBlock=e.addBlock.bind(Ue(e)),e}return e=i,(n=[{key:"toggleState",value:function(t){var e=Array.prototype.slice.call(t.currentTarget.children),n=e.indexOf(t.target);n<0||(this.setState({visible:!this.state.visible}),this.state.visible&&0!==n&&this.props.addBlock(e[n].getAttribute("title"),this.props.position))}},{key:"addBlock",value:function(t,e){this.props.addBlock()}},{key:"render",value:function(){var t=this.props.availableBlocks;return this.state.visible?a.a.createElement("div",{className:"katap-toolbar",onClick:this.toggleState},a.a.createElement("button",{title:"Close"},""),Object.keys(t).map((function(e,n){return a.a.createElement("button",{title:e,key:n},t[e].Description)}))):a.a.createElement("div",{className:"katap-toolbar",onClick:this.toggleState},a.a.createElement("button",{title:"Add block"},"+"))}}])&&De(e.prototype,n),r&&De(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a.a.Component);Fe.defaultProps={availableBlocks:Ie};var He=Fe,Ke=n(15);function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(){return($e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==We(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===We(i)?i:String(i)),r)}var o,i}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xe(t);if(e){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ye(t)}function Ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(l,t);var e,n,o,i=Je(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=i.call(this,t)).handleBlockAction=e.handleBlockAction.bind(Ye(e)),e.getBlocks=e.getBlocks.bind(Ye(e)),e.addBlock=e.addBlock.bind(Ye(e)),e.contentChange=e.contentChange.bind(Ye(e)),e.getToolbar=e.getToolbar.bind(Ye(e)),e.renderBlocks=e.renderBlocks.bind(Ye(e)),e.splitBlock=e.splitBlock.bind(Ye(e)),e}return e=l,(n=[{key:"splitBlock",value:function(t){var e=this.props.splitter,n=this.props.blocks,o=n[t];if(o.type===Ie.text.Name){var i=o.data.replace(/((?:<[a-zA-Z\d]{1,}>){1,2}<br>(?:<\/[a-zA-Z\d]{1,}>){1,2})/gi,e).split(e),a=[];i.forEach((function(t){""!==t&&a.push(t)})),n.splice(t,1);var u=t,c={};a.forEach((function(t){c={type:Ie.text.Name,data:t,key:r()},n.splice(u++,0,c)})),this.props.onChange(n)}}},{key:"handleBlockAction",value:function(t,e){var n=this.props.blocks,r=this.props.availableBlocks;if(t===s){if(!r[n[e].type].isEmpty(n[e].data)&&!window.confirm("Are you sure?"))return;n.splice(e,1)}else t===u?n.splice(e-1,2,n[e],n[e-1]):t===c&&n.splice(e,2,n[e+1],n[e]);this.props.onChange(n)}},{key:"getBlocks",value:function(){return console.warn("This function will be deprecated in the next version."),this.props.blocks}},{key:"addBlock",value:function(t,e){var n=this.props.blocks;if(!(e<-1||e>n.length)){var o=this.props.blocks,i=this.props.availableBlocks;if(i[t]){if(0!==i[t].maximumBlocks){var a=0;if(n.forEach((function(e,n){e.type===t&&a++})),a>=i[t].maximumBlocks)return}var u={type:t,data:i[t].Empty(),key:r()};o.splice(e+1,0,u),this.props.onChange(o)}}}},{key:"contentChange",value:function(t,e){var n=this.props.blocks;n[t].data=e,this.props.onChange(n)}},{key:"getToolbar",value:function(t){return a.a.createElement(b,{blockAction:this.handleBlockAction,position:t,className:"katap-control-toolbar katap-clearfix",length:this.props.blocks.length})}},{key:"renderBlocks",value:function(){var t=this,e=this.props.blocks,n=this.props.availableBlocks;return e.length<1?a.a.createElement(He,{position:0,addBlock:this.addBlock,availableBlocks:n}):e.map((function(e,r){if(!n[e.type])return null;var o=n[e.type].React,i=n[e.type].props;return a.a.createElement("div",{key:e.key||e.id||r,className:"katap-container"},t.getToolbar(r),a.a.createElement(o,$e({position:r,content:e.data,addBlock:t.addBlock,onContentChanged:t.contentChange,UploadUrl:t.props.UploadUrl,EmbedTypes:t.props.EmbedTypes,splitBlock:t.splitBlock},i,t.props)),a.a.createElement(He,{position:r,addBlock:t.addBlock,availableBlocks:n}))}))}},{key:"render",value:function(){return this.props.blocks.length>0?a.a.createElement("div",{className:"katap-listing"},a.a.createElement(He,{position:-1,addBlock:this.addBlock,availableBlocks:this.props.availableBlocks}),this.renderBlocks()):a.a.createElement("div",{className:"katap-listing"},this.renderBlocks())}}])&&Ve(e.prototype,n),o&&Ve(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(a.a.Component);Ze.defaultProps={availableBlocks:Ie,EmbedTypes:Ke.default,getBlocks:function(){return[]},UploadUrl:"",splitter:"<p>==</p>"};var tn=n(1);e.default={Editor:Ze,Blocks:Ie,uuid:r,BaseEmbed:tn.a,DroppableComponent:qt,UrlRegex:o,ScribeComponent:ct}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(11),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),u=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:u,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],a=o.obj[o.prop],u=Object.keys(a),c=0;c<u.length;++c){var s=u[c],l=a[s];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:s}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,o,i){if(0===t.length)return t;var u=t;if("symbol"==typeof t?u=Symbol.prototype.toString.call(t):"string"!=typeof t&&(u=String(t)),"iso-8859-1"===n)return escape(u).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var c="",s=0;s<u.length;++s){var l=u.charCodeAt(s);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?c+=u.charAt(s):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(s+=1,l=65536+((1023&l)<<10|1023&u.charCodeAt(s)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var a=e;return i(e)&&!i(n)&&(a=u(e,r)),i(e)&&i(n)?(n.forEach((function(n,i){if(o.call(e,i)){var a=e[i];a&&"object"==typeof a&&n&&"object"==typeof n?e[i]=t(a,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var a=n[i];return o.call(e,i)?e[i]=t(e[i],a,r):e[i]=a,e}),a)}}},function(t,e,n){var r;void 0===(r=function(){"use strict";return{isUndoKeyCombination:function(t){return!t.shiftKey&&(t.metaKey||t.ctrlKey&&!t.altKey)&&90===t.keyCode},isRedoKeyCombination:function(t){return t.shiftKey&&(t.metaKey||t.ctrlKey&&!t.altKey)&&90===t.keyCode}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{contentChanged:"scribe:content-changed",legacyContentChanged:"content-changed",destroy:"scribe:destroy"}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return{openDoubleCurly:"",closeDoubleCurly:"",openSingleCurly:"",closeSingleCurly:""}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(26),n(27)],void 0===(o=function(t,e){return function(n,r){return t(n,r,e)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(99)],void 0===(o=function(t){return function(e,n,r){for(var o=-1,i=t(e),a=r(e),u=a.length;++o<u;){var c=a[o];if(!1===n(i[c],c,i))break}return e}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(3),n(6),n(4),n(102)],void 0===(o=function(t,e,n,r){var o=e(o=Object.keys)&&o;return o?function(e){if(e)var i=e.constructor,a=e.length;return"function"==typeof i&&i.prototype===e||"function"!=typeof e&&a&&t(a)?r(e):n(e)?o(e):[]}:r}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(6),n(29)],void 0===(o=function(t,e){var n=/\bthis\b/,r=Object.prototype,o=(o=e.window)&&o.document,i=r.propertyIsEnumerable,a={};return function(r){a.funcDecomp=!t(e.WinRTError)&&n.test((function(){return this})),a.funcNames="string"==typeof Function.name;try{a.dom=11===o.createDocumentFragment().nodeType}catch(t){a.dom=!1}try{a.nonEnumArgs=!i.call(arguments,1)}catch(t){a.nonEnumArgs=!0}}(0,0),a}.apply(e,r))||(t.exports=o)},function(t,e,n){(function(t,n){var r;void 0===(r=function(){var r={function:!0,object:!0},o=r[typeof e]&&e&&!e.nodeType&&e,i=r[typeof t]&&t&&!t.nodeType&&t,a=r[typeof window]&&window;return o&&i&&"object"==typeof n&&n||a!==(this&&this.window)&&a||this}.apply(e,[]))||(t.exports=r)}).call(this,n(18)(t),n(19))},function(t,e,n){var r;void 0===(r=function(){return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(3),n(5)],void 0===(o=function(t,e){var n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1;var r=Object.prototype.toString;return function(o){return e(o)&&t(o.length)&&n[r.call(o)]||!1}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return function(t,e,n){n||(n=e,e={});for(var r=-1,o=n.length;++r<o;){var i=n[r];e[i]=t[i]}return e}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(109)],void 0===(o=function(t){return function(e,n,r){if("function"!=typeof e)return t;if(void 0===n)return e;switch(r){case 1:return function(t){return e.call(n,t)};case 3:return function(t,r,o){return e.call(n,t,r,o)};case 4:return function(t,r,o,i){return e.call(n,t,r,o,i)};case 5:return function(t,r,o,i,a){return e.call(n,t,r,o,i,a)}}return function(){return e.apply(n,arguments)}}}.apply(e,r))||(t.exports=o)},function(t,e,n){"use strict";var r=n(42);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(c),l=["%","/","?",";","#"].concat(s),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(43);function b(t,e,n){if(t&&"object"==typeof t&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var g=u.exec(b);if(g)return this.path=b,this.href=b,this.pathname=g[1],g[2]?(this.search=g[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=i.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===b.substr(0,2);!S||_&&y[_]||(b=b.substr(2),this.slashes=!0)}if(!y[_]&&(S||_&&!v[_])){for(var O,E,k=-1,j=0;j<f.length;j++){-1!==(x=b.indexOf(f[j]))&&(-1===k||x<k)&&(k=x)}-1!==(E=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(O=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(O)),k=-1;for(j=0;j<l.length;j++){var x;-1!==(x=b.indexOf(l[j]))&&(-1===k||x<k)&&(k=x)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var P=this.hostname.split(/\./),N=(j=0,P.length);j<N;j++){var R=P[j];if(R&&!R.match(p)){for(var T="",A=0,I=R.length;A<I;A++)R.charCodeAt(A)>127?T+="x":T+=R[A];if(!T.match(p)){var M=P.slice(0,j),D=P.slice(j+1),L=R.match(h);L&&(M.push(L[1]),D.unshift(L[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!d[w])for(j=0,N=s.length;j<N;j++){var U=s[j];if(-1!==b.indexOf(U)){var q=encodeURIComponent(U);q===U&&(q=escape(U)),b=b.split(U).join(q)}}var F=b.indexOf("#");-1!==F&&(this.hash=b.substr(F),b=b.slice(0,F));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=m.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var K=this.search||"";this.path=B+K}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(i=m.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if("string"==typeof t){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var s=u[c];"protocol"!==s&&(n[s]=t[s])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var p=l[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",m=n.search||"";n.path=d+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=g||b||n.host&&t.pathname,w=_,S=n.pathname&&n.pathname.split("/")||[],O=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(O&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),_=_&&(""===h[0]||""===S[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=t.search,n.query=t.query;else if(null!=t.search){if(O)n.host=S.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname);return n.search=t.search,n.query=t.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=S.slice(-1)[0],k=(n.host||t.host||S.length>1)&&("."===E||".."===E)||""===E,j=0,x=S.length;x>=0;x--)"."===(E=S[x])?S.splice(x,1):".."===E?(S.splice(x,1),j++):j&&(S.splice(x,1),j--);if(!_&&!w)for(;j--;j)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var C,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);O&&(n.hostname=P?"":S.length?S.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length>0?n.pathname=S.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=b(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o},function(t,e,n){var r,o;r=[n(56),n(63),n(71),n(74),n(77),n(85),n(90),n(91),n(92),n(8),n(2),n(93),n(22)],void 0===(o=function(t,e,n,r,o,i,a,u,c,s,l,f,p){"use strict";function h(s,p){c.call(this),this.el=s,this.commands={},this.options=f.checkOptions(p),this.commandPatches={},this._plainTextFormatterFactory=new d,this._htmlFormatterFactory=new y,this.api=new i(this),this.Immutable=l;var h=a(this);this.transactionManager=new h,this.undoManager=!1,this.options.undo.enabled&&(this.options.undo.manager?this.undoManager=this.options.undo.manager:this.undoManager=new u(this.options.undo.limit,this.el),this._merge=!1,this._forceMerge=!1,this._mergeTimer=0,this._lastItem={content:""}),this.setHTML(this.getHTML()),this.el.setAttribute("contenteditable",!0),this.el.addEventListener("input",function(){this.transactionManager.run()}.bind(this),!1);var v=l.OrderedSet(this.options.defaultPlugins).sort(f.sortByPlugin("setRootPElement")).filter(f.filterByBlockLevelMode(this.allowsBlockElements())).map((function(e){return t[e]})),m=l.List(this.options.defaultFormatters).filter((function(t){return!!n[t]})).map((function(t){return n[t]})),b=l.List.of(o.events),g=l.List(this.options.defaultCommandPatches).map((function(t){return o.commands[t]})),_=l.List.of("indent","insertList","outdent","redo","subscript","superscript","undo").map((function(t){return e[t]}));l.List().concat(v,m,b,g,_).forEach(function(t){this.use(t())}.bind(this)),this.use(r())}function d(){this.formatters=l.List()}function y(){this.formatters={sanitize:l.List(),normalize:l.List(),export:l.List()}}return h.prototype=Object.create(c.prototype),h.prototype.node=s,h.prototype.element=h.prototype.node,h.prototype.use=function(t){return t(this),this},h.prototype.setHTML=function(t,e){this.options.undo.enabled&&(this._lastItem.content=t),e&&(this._skipFormatters=!0),this.el.innerHTML!==t&&(this.el.innerHTML=t)},h.prototype.getHTML=function(){return this.el.innerHTML},h.prototype.getContent=function(){return this._htmlFormatterFactory.formatForExport(this.getHTML().replace(/<br>$/,""))},h.prototype.getTextContent=function(){return this.el.textContent},h.prototype.pushHistory=function(){var t=this;if(t.options.undo.enabled){var e=t._lastItem.content.replace(/<em [^>]*class="scribe-marker"[^>]*>[^<]*?<\/em>/g,"");if(t.getHTML()!==e){var n=new t.api.Selection;n.placeMarkers();var r=t.getHTML();n.removeMarkers();var o=t.undoManager.item(t.undoManager.position);return(t._merge||t._forceMerge)&&o&&t._lastItem==o[0]?t._lastItem.content=r:(t._lastItem={previousItem:t._lastItem,content:r,scribe:t,execute:function(){},undo:function(){this.scribe.restoreFromHistory(this.previousItem)},redo:function(){this.scribe.restoreFromHistory(this)}},t.undoManager.transact(t._lastItem,!1)),clearTimeout(t._mergeTimer),t._merge=!0,t._mergeTimer=setTimeout((function(){t._merge=!1}),t.options.undo.interval),!0}}return!1},h.prototype.getCommand=function(t){return this.commands[t]||this.commandPatches[t]||new this.api.Command(t)},h.prototype.restoreFromHistory=function(t){this._lastItem=t,this.setHTML(t.content,!0),(new this.api.Selection).selectMarkers(),this.trigger(p.legacyContentChanged),this.trigger(p.contentChanged)},h.prototype.allowsBlockElements=function(){return this.options.allowBlockElements},h.prototype.setContent=function(t){this.allowsBlockElements()||(t+="<br>"),this.setHTML(t),this.trigger(p.legacyContentChanged),this.trigger(p.contentChanged)},h.prototype.insertPlainText=function(t){this.insertHTML("<p>"+this._plainTextFormatterFactory.format(t)+"</p>")},h.prototype.insertHTML=function(t){this.getCommand("insertHTML").execute(this._htmlFormatterFactory.format(t))},h.prototype.isDebugModeEnabled=function(){return this.options.debug},h.prototype.registerHTMLFormatter=function(t,e){this._htmlFormatterFactory.formatters[t]=this._htmlFormatterFactory.formatters[t].push(e)},h.prototype.registerPlainTextFormatter=function(t){this._plainTextFormatterFactory.formatters=this._plainTextFormatterFactory.formatters.push(t)},h.prototype.destroy=function(t){this.trigger(p.destroy)},d.prototype.format=function(t){return this.formatters.reduce((function(t,e){return e(t)}),t)},y.prototype=Object.create(d.prototype),y.prototype.constructor=y,y.prototype.format=function(t){return this.formatters.sanitize.concat(this.formatters.normalize).reduce((function(t,e){return e(t)}),t)},y.prototype.formatForExport=function(t){return this.formatters.export.reduce((function(t,e){return e(t)}),t)},h}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(23),n(94),n(95)],void 0===(o=function(t,e,n){"use strict";return function(){return function(t){var r,o=t.node;function i(t){var r=document.createElement("div");return r.innerHTML=t,function t(e,r){var i=n.toArray(e.children).filter(o.isBlockElement);i.length?i.forEach((function(e){t(e,r)})):function(t,e){var n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=n.firstChild(),o="";for(;r;)r.previousSibling&&"BR"===r.previousSibling.nodeName&&(o=""),r.data=e(o,r.data),o+=r.data,r=n.nextSibling()}(e,r)}(r,(function(t,n){return(t+n).split(/(<[^>]+?>(?:.*<\/[^>]+?>)?)/).map((function(t){return/^</.test(t)?t:e.convert(t)})).join("").slice(t.length)})),r.innerHTML}t.el.addEventListener("keypress",(function(t){r={34:'"',39:"'"}[t.charCode]})),t.el.addEventListener("input",(function(){if(r){var e=new t.api.Selection,n=t.allowsBlockElements()?e.getContaining(o.isBlockElement):t.el;e.placeMarkers(),n.innerHTML=i(n.innerHTML),e.selectMarkers(),r=void 0}})),t.registerHTMLFormatter("normalize",i)}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(96),n(97),n(111)],void 0===(o=function(t,e,n){"use strict";return function(r){var o=e(n(r),{tags:{em:{class:"scribe-marker"},br:{}}});return function(e){var n=new t(o);e.registerHTMLFormatter("sanitize",n.clean.bind(n))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){t.registerPlainTextFormatter((function(t){return t.replace(/\n([ \t]*\n)+/g,"</p><p>").replace(/\n/g,"<br>")}))}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e={B:"strong",I:"em"};function n(t,e){var n=document.createElement(e);!function(t,e){for(var n,r=t.firstChild;r;)n=r.nextSibling,e.appendChild(r),r=n}(t,n),function(t,e){if(t.hasAttributes())for(var n=0,r=t.attributes.length;n<r;n++){var o=t.attributes[n].cloneNode(!1);e.attributes.setNamedItem(o)}}(t,n),t.parentNode.replaceChild(n,t)}function r(t){for(var o,i=t.firstElementChild;i;){o=i.nextElementSibling,r(i);var a=e[i.nodeName];a&&n(i,a),i=o}}t.registerHTMLFormatter("normalize",(function(t){if("string"==typeof t){var e=document.createElement("div");return e.innerHTML=t,r(e),e.innerHTML}return r(t),t}))}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){var t={32:"Space",42:"*",45:"-",46:".",49:"1",8226:""};function e(t){return"*"===t||"-"===t||""===t}return function(n){var r,o,i;n.el.addEventListener("keypress",(function(a){var u;r=o,o=i,i=t[a.charCode];var c=new n.api.Selection,s=c.range.commonAncestorContainer,l=function(t){for(;t&&!n.node.isBlockElement(t);)t=t.parentNode;return t}(s);if(l&&"P"===l.tagName){var f=e(s.textContent[0]),p=1===c.range.endOffset;e(o)&&"Space"===i&&f&&p&&(u="insertUnorderedList");var h="1."===[s.previousSibling&&s.previousSibling.textContent,s.textContent].join("").slice(0,2);"1"===r&&"."===o&&"Space"===i&&h&&(u="insertOrderedList")}u&&(a.preventDefault(),n.transactionManager.run((function(){n.getCommand(u).execute(),function(){var t=(new n.api.Selection).selection.anchorNode;t.data&&(t.data=t.data.replace(/^([*-.\d]+)/,"")),!t.data&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&t.removeChild(t.firstChild)}()})))}))}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){return function(e){var n="<h"+t+">",r="H"+t,o="h"+t,i=new e.api.Command("formatBlock");i.execute=function(){this.queryState()?e.api.Command.prototype.execute.call(this,"<p>"):e.api.Command.prototype.execute.call(this,n)},i.queryState=function(){return!!(new e.api.Selection).getContaining((function(t){return t.nodeName===r}))},i.queryEnabled=function(){var t=new e.api.Selection,n=t.getContaining((function(t){return"OL"===t.nodeName||"UL"===t.nodeName}));return e.api.Command.prototype.queryEnabled.apply(this,arguments)&&e.allowsBlockElements()&&!n},e.commands[o]=i}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var u,c=2147483647,s=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function y(t){throw new RangeError(p[t])}function v(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function m(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+v((t=t.replace(f,".")).split("."),e).join(".")}function b(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function g(t){return v(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?h(t/700):t>>1,t+=h(t/e);t>455;r+=36)t=h(t/35);return h(r+36*t/(t+38))}function S(t){var e,n,r,o,i,a,u,s,l,f,p,d=[],v=t.length,m=0,b=128,_=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&y("not-basic"),d.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=m,a=1,u=36;o>=v&&y("invalid-input"),((s=(p=t.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||s>h((c-m)/a))&&y("overflow"),m+=s*a,!(s<(l=u<=_?1:u>=_+26?26:u-_));u+=36)a>h(c/(f=36-l))&&y("overflow"),a*=f;_=w(m-i,e=d.length+1,0==i),h(m/e)>c-b&&y("overflow"),b+=h(m/e),m%=e,d.splice(m++,0,b)}return g(d)}function O(t){var e,n,r,o,i,a,u,s,l,f,p,v,m,g,S,O=[];for(v=(t=b(t)).length,e=128,n=0,i=72,a=0;a<v;++a)(p=t[a])<128&&O.push(d(p));for(r=o=O.length,o&&O.push("-");r<v;){for(u=c,a=0;a<v;++a)(p=t[a])>=e&&p<u&&(u=p);for(u-e>h((c-n)/(m=r+1))&&y("overflow"),n+=(u-e)*m,e=u,a=0;a<v;++a)if((p=t[a])<e&&++n>c&&y("overflow"),p==e){for(s=n,l=36;!(s<(f=l<=i?1:l>=i+26?26:l-i));l+=36)S=s-f,g=36-f,O.push(d(_(f+S%g,0))),s=h(S/g);O.push(d(_(s,0))),i=w(n,m,r==o),n=0,++r}++n,++e}return O.join("")}u={version:"1.4.1",ucs2:{decode:b,encode:g},decode:S,encode:O,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return m(t,(function(t){return s.test(t)?S(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return u}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(18)(t),n(19))},function(t,e,n){"use strict";var r=n(44),o=n(55),i=n(11);t.exports={formats:i,parse:o,stringify:r}},function(t,e,n){"use strict";var r=n(45),o=n(20),i=n(11),a=Object.prototype.hasOwnProperty,u={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,s=Array.prototype.push,l=function(t,e){s.apply(t,c(e)?e:[e])},f=Date.prototype.toISOString,p=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},d={},y=function t(e,n,i,a,u,s,f,p,y,v,m,b,g,_,w,S){for(var O,E=e,k=S,j=0,x=!1;void 0!==(k=k.get(d))&&!x;){var C=k.get(e);if(j+=1,void 0!==C){if(C===j)throw new RangeError("Cyclic object value");x=!0}void 0===k.get(d)&&(j=0)}if("function"==typeof p?E=p(n,E):E instanceof Date?E=m(E):"comma"===i&&c(E)&&(E=o.maybeMap(E,(function(t){return t instanceof Date?m(t):t}))),null===E){if(u)return f&&!_?f(n,h.encoder,w,"key",b):n;E=""}if("string"==typeof(O=E)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||o.isBuffer(E))return f?[g(_?n:f(n,h.encoder,w,"key",b))+"="+g(f(E,h.encoder,w,"value",b))]:[g(n)+"="+g(String(E))];var P,N=[];if(void 0===E)return N;if("comma"===i&&c(E))_&&f&&(E=o.maybeMap(E,f)),P=[{value:E.length>0?E.join(",")||null:void 0}];else if(c(p))P=p;else{var R=Object.keys(E);P=y?R.sort(y):R}for(var T=a&&c(E)&&1===E.length?n+"[]":n,A=0;A<P.length;++A){var I=P[A],M="object"==typeof I&&void 0!==I.value?I.value:E[I];if(!s||null!==M){var D=c(E)?"function"==typeof i?i(T,I):T:T+(v?"."+I:"["+I+"]");S.set(e,j);var L=r();L.set(d,S),l(N,t(M,D,i,a,u,s,"comma"===i&&_&&c(E)?null:f,p,y,v,m,b,g,_,w,L))}}return N};t.exports=function(t,e){var n,o=t,s=function(t){if(!t)return h;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],o=h.filter;return("function"==typeof t.filter||c(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}}(e);"function"==typeof s.filter?o=(0,s.filter)("",o):c(s.filter)&&(n=s.filter);var f,p=[];if("object"!=typeof o||null===o)return"";f=e&&e.arrayFormat in u?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=u[f];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v="comma"===d&&e&&e.commaRoundTrip;n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var m=r(),b=0;b<n.length;++b){var g=n[b];s.skipNulls&&null===o[g]||l(p,y(o[g],g,d,v,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}var _=p.join(s.delimiter),w=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),_.length>0?w+_:""}},function(t,e,n){"use strict";var r=n(9),o=n(51),i=n(53),a=r("%TypeError%"),u=r("%WeakMap%",!0),c=r("%Map%",!0),s=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),y=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},get:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(t)return s(t,r)}else if(c){if(e)return p(e,r)}else if(n)return function(t,e){var n=y(t,e);return n&&n.value}(n,r)},has:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(t)return f(t,r)}else if(c){if(e)return d(e,r)}else if(n)return function(t,e){return!!y(t,e)}(n,r);return!1},set:function(r,o){u&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new u),l(t,r,o)):c?(e||(e=new c),h(e,r,o)):(n||(n={key:{},next:null}),function(t,e,n){var r=y(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,o))}};return r}},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(47);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r={foo:{}},o=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError(r+e);for(var n,a=o.call(arguments,1),u=function(){if(this instanceof n){var r=e.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(o.call(arguments)))},c=Math.max(0,e.length-a.length),s=[],l=0;l<c;l++)s.push("$"+l);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},function(t,e,n){"use strict";var r=n(10);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r=n(9),o=n(52),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},function(t,e,n){"use strict";var r=n(10),o=n(9),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),s=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(t){s=null}t.exports=function(t){var e=u(r,a,arguments);if(c&&s){var n=c(e,"length");n.configurable&&s(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var f=function(){return u(r,i,arguments)};s?s(t.exports,"apply",{value:f}):t.exports.apply=f},function(t,e,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,u="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=u&&c&&"function"==typeof c.get?c.get:null,l=u&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,g=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,E=Array.prototype.join,k=Array.prototype.slice,j=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N||"symbol")?Symbol.toStringTag:null,T=Object.prototype.propertyIsEnumerable,A=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-j(-t):j(t);if(r!==t){var o=String(r),i=b.call(e,o.length+1);return g.call(o,n,"$&_")+"."+g.call(g.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(e,n,"$&_")}var M=n(54),D=M.custom,L=F(D)?D:null;function B(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function z(t){return g.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==W(t)||R&&"object"==typeof t&&R in t)}function q(t){return!("[object RegExp]"!==W(t)||R&&"object"==typeof t&&R in t)}function F(t){if(N)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,r,o){var u=n||{};if(K(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(K(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!K(u,"customInspect")||u.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=u.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function t(e,n){if(e.length>n.maxStringLength){var r=e.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return t(b.call(e,0,n.maxStringLength),n)+o}return B(g.call(g.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",n)}(e,u);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var _=String(e);return y?I(e,_):_}if("bigint"==typeof e){var S=String(e)+"n";return y?I(e,S):S}var j=void 0===u.depth?5:u.depth;if(void 0===r&&(r=0),r>=j&&j>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var C=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=E.call(Array(t.indent+1)," ")}return{base:n,prev:E.call(Array(e+1),n)}}(u,r);if(void 0===o)o=[];else if($(o,e)>=0)return"[Circular]";function D(e,n,i){if(n&&(o=k.call(o)).push(n),i){var a={depth:u.depth};return K(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),t(e,a,r+1,o)}return t(e,u,r+1,o)}if("function"==typeof e&&!q(e)){var H=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),Z=X(e,D);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(Z.length>0?" { "+E.call(Z,", ")+" }":"")}if(F(e)){var tt=N?g.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(e);return"object"!=typeof e||N?tt:G(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+w.call(String(e.nodeName)),nt=e.attributes||[],rt=0;rt<nt.length;rt++)et+=" "+nt[rt].name+"="+B(z(nt[rt].value),"double",u);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+w.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var ot=X(e,D);return C&&!function(t){for(var e=0;e<t.length;e++)if($(t[e],"\n")>=0)return!1;return!0}(ot)?"["+Y(ot,C)+"]":"[ "+E.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==W(t)||R&&"object"==typeof t&&R in t)}(e)){var it=X(e,D);return"cause"in Error.prototype||!("cause"in e)||T.call(e,"cause")?0===it.length?"["+String(e)+"]":"{ ["+String(e)+"] "+E.call(it,", ")+" }":"{ ["+String(e)+"] "+E.call(O.call("[cause]: "+D(e.cause),it),", ")+" }"}if("object"==typeof e&&c){if(L&&"function"==typeof e[L]&&M)return M(e,{depth:j-r});if("symbol"!==c&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var at=[];return a&&a.call(e,(function(t,n){at.push(D(n,e,!0)+" => "+D(t,e))})),Q("Map",i.call(e),at,C)}if(function(t){if(!s||!t||"object"!=typeof t)return!1;try{s.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ut=[];return l&&l.call(e,(function(t){ut.push(D(t,e))})),Q("Set",s.call(e),ut,C)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return J("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return J("WeakSet");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}(e))return J("WeakRef");if(function(t){return!("[object Number]"!==W(t)||R&&"object"==typeof t&&R in t)}(e))return G(D(Number(e)));if(function(t){if(!t||"object"!=typeof t||!x)return!1;try{return x.call(t),!0}catch(t){}return!1}(e))return G(D(x.call(e)));if(function(t){return!("[object Boolean]"!==W(t)||R&&"object"==typeof t&&R in t)}(e))return G(d.call(e));if(function(t){return!("[object String]"!==W(t)||R&&"object"==typeof t&&R in t)}(e))return G(D(String(e)));if(!function(t){return!("[object Date]"!==W(t)||R&&"object"==typeof t&&R in t)}(e)&&!q(e)){var ct=X(e,D),st=A?A(e)===Object.prototype:e instanceof Object||e.constructor===Object,lt=e instanceof Object?"":"null prototype",ft=!st&&R&&Object(e)===e&&R in e?b.call(W(e),8,-1):lt?"Object":"",pt=(st||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ft||lt?"["+E.call(O.call([],ft||[],lt||[]),": ")+"] ":"");return 0===ct.length?pt+"{}":C?pt+"{"+Y(ct,C)+"}":pt+"{ "+E.call(ct,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function K(t,e){return H.call(t,e)}function W(t){return y.call(t)}function $(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function V(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function G(t){return"Object("+t+")"}function J(t){return t+" { ? }"}function Q(t,e,n,r){return t+" ("+e+") {"+(r?Y(n,r):E.call(n,", "))+"}"}function Y(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+E.call(t,","+n)+"\n"+e.prev}function X(t,e){var n=U(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=K(t,o)?e(t[o],t):""}var i,a="function"==typeof C?C(t):[];if(N){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var c in t)K(t,c)&&(n&&String(Number(c))===c&&c<t.length||N&&i["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof C)for(var s=0;s<a.length;s++)T.call(t,a[s])&&r.push("["+e(a[s])+"]: "+e(t[a[s]],t));return r}},function(t,e){},function(t,e,n){"use strict";var r=n(20),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},u=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},s=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,u=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=u?i.slice(0,u.index):i,l=[];if(s){if(!n.plainObjects&&o.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var f=0;n.depth>0&&null!==(u=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+i.slice(u.index)+"]"),function(t,e,n,r){for(var o=r?e:c(e,n),i=t.length-1;i>=0;--i){var a,u=t[i];if("[]"===u&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var s="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=parseInt(s,10);n.parseArrays||""!==s?!isNaN(l)&&u!==s&&String(l)===s&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:"__proto__"!==s&&(a[s]=o):a={0:o}}o=a}return o}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,s={__proto__:null},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,p=l.split(e.delimiter,f),h=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?d="utf-8":"utf8=%26%2310003%3B"===p[n]&&(d="iso-8859-1"),h=n,n=p.length);for(n=0;n<p.length;++n)if(n!==h){var y,v,m=p[n],b=m.indexOf("]="),g=-1===b?m.indexOf("="):b+1;-1===g?(y=e.decoder(m,a.decoder,d,"key"),v=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,g),a.decoder,d,"key"),v=r.maybeMap(c(m.slice(g+1),e),(function(t){return e.decoder(t,a.decoder,d,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===d&&(v=u(v)),m.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(s,y)?s[y]=r.combine(s[y],v):s[y]=v}return s}(t,n):t,f=n.plainObjects?Object.create(null):{},p=Object.keys(l),h=0;h<p.length;++h){var d=p[h],y=s(d,l[d],n,"string"==typeof t);f=r.merge(f,y,n)}return!0===n.allowSparse?f:r.compact(f)}},function(t,e,n){var r,o;r=[n(57),n(58),n(59),n(62)],void 0===(o=function(t,e,n,r){"use strict";return{setRootPElement:t,enforcePElements:e,ensureSelectableContainers:n,inlineElementsMode:r}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){""===t.getHTML().trim()&&t.setContent("<p><br></p>")}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){"use strict";return function(){return function(e){var n=e.node;function r(e){var r=0;t.List(e.childNodes).filterNot((function(t){return n.isWhitespaceOnlyTextNode(Node,t)})).filter((function(t){return t.nodeType===Node.TEXT_NODE||!n.isBlockElement(t)})).groupBy((function(t,e,n){return 0===e||t.previousSibling===n.get(e-1)?r:r+=1})).forEach((function(t){n.wrap(t.toArray(),document.createElement("p"))}))}e.registerHTMLFormatter("normalize",(function(t){var e=document.createElement("div");return e.innerHTML=t,r(e),function(t){for(var e,n=0;e=t.children[n++];)"BLOCKQUOTE"===e.tagName&&r(e)}(e),e.innerHTML}))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(8),n(2)],void 0===(o=function(t,e){"use strict";var n=e.Set.of("AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR");function r(e){var o=e.firstElementChild;function i(e){return!!(0===e.children.length&&t.isBlockElement(e)||1===e.children.length&&t.isSelectionMarkerNode(e.children[0]))||!t.isBlockElement(e)&&0===e.children.length&&function(e){return!!t.isCaretPositionNode(e)||""===e.parentNode.textContent.trim()}(e)}for(;o;)t.isSelectionMarkerNode(o)||(i(o)&&""===o.textContent.trim()&&!n.includes(o.nodeName)&&-1===o.nodeName.indexOf("-")?o.appendChild(document.createElement("br")):o.children.length>0&&r(o)),o=o.nextElementSibling}return function(){return function(t){t.registerHTMLFormatter("normalize",(function(t){var e=document.createElement("div");return e.innerHTML=t,r(e),e.innerHTML}))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){return t.Set.of("B","BIG","I","SMALL","TT","ABBR","ACRONYM","CITE","CODE","DFN","EM","KBD","STRONG","SAMP","VAR","A","BDO","BR","IMG","MAP","OBJECT","Q","SCRIPT","SPAN","SUB","SUP","BUTTON","INPUT","LABEL","SELECT","TEXTAREA")}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){return t.Set.of("ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","CANVAS","DD","DIV","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TD","TH","TFOOT","UL","VIDEO")}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(8)],void 0===(o=function(t){"use strict";return function(){return function(e){e.el.addEventListener("keydown",function(n){if(13===n.keyCode){var r=new e.api.Selection,o=r.range;r.getContaining((function(t){return"LI"===t.nodeName||/^(H[1-6])$/.test(t.nodeName)}))||(n.preventDefault(),e.transactionManager.run((function(){o.collapsed||o.deleteContents(),e.el.lastChild&&"BR"===e.el.lastChild.nodeName&&e.el.removeChild(e.el.lastChild);var n=document.createElement("br");o.insertNode(n),o.setEndAfter(n),o.collapse(!1);var i=o.cloneRange();if(e.el.lastChild&&i.setEndAfter(e.el.lastChild),!function(e){for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1);n.nextNode();)if(n.currentNode&&(t.hasContent(n.currentNode)||t.isTextNodeWithContent(Node,n.currentNode)))return!0;return!1}(i.cloneContents())){var a=document.createElement("br");o.insertNode(a)}var u=o.cloneRange();u.setStartAfter(n),u.setEndAfter(n),r.selection.removeAllRanges(),r.selection.addRange(u)})))}}.bind(this)),""===e.getHTML().trim()&&e.setContent("")}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(64),n(65),n(66),n(67),n(68),n(69),n(70)],void 0===(o=function(t,e,n,r,o,i,a){"use strict";return{indent:t,insertList:e,outdent:n,redo:r,subscript:o,superscript:i,undo:a}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.Command("indent");e.queryEnabled=function(){var e=(new t.api.Selection).getContaining((function(t){return"UL"===t.nodeName||"OL"===t.nodeName}));return t.api.Command.prototype.queryEnabled.call(this)&&t.allowsBlockElements()&&!e},t.commands.indent=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){"use strict";return function(){return function(e){var n=e.node,r=function(t){e.api.Command.call(this,t)};(r.prototype=Object.create(e.api.Command.prototype)).constructor=r,r.prototype.execute=function(r){function o(t){if(t.size){for(var e=document.createElement(u.nodeName);t.size;)e.appendChild(t.first()),t=t.shift();u.parentNode.insertBefore(e,u.nextElementSibling)}}if(this.queryState()){var i=new e.api.Selection,a=i.range,u=i.getContaining((function(t){return"OL"===t.nodeName||"UL"===t.nodeName})),c=i.getContaining((function(t){return"LI"===t.nodeName}));e.transactionManager.run(function(){if(c){o(n.nextSiblings(c)),i.placeMarkers();var e=document.createElement("p");e.innerHTML=c.innerHTML,u.parentNode.insertBefore(e,u.nextElementSibling),c.parentNode.removeChild(c)}else{var r=t.List(u.querySelectorAll("li")).filter((function(t){return a.intersectsNode(t)})),s=r.last();o(n.nextSiblings(s)),i.placeMarkers();var l=document.createDocumentFragment();r.forEach((function(t){var e=document.createElement("p");e.innerHTML=t.innerHTML,l.appendChild(e)})),u.parentNode.insertBefore(l,u.nextElementSibling),r.forEach((function(t){t.parentNode.removeChild(t)}))}0===u.childNodes.length&&u.parentNode.removeChild(u),i.selectMarkers()}.bind(this))}else e.api.Command.prototype.execute.call(this,r)},r.prototype.queryEnabled=function(){return e.api.Command.prototype.queryEnabled.call(this)&&e.allowsBlockElements()},e.commands.insertOrderedList=new r("insertOrderedList"),e.commands.insertUnorderedList=new r("insertUnorderedList")}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.Command("outdent");e.queryEnabled=function(){var e=(new t.api.Selection).getContaining((function(t){return"UL"===t.nodeName||"OL"===t.nodeName}));return t.api.Command.prototype.queryEnabled.call(this)&&t.allowsBlockElements()&&!e},t.commands.outdent=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o;r=[n(21)],void 0===(o=function(t){"use strict";return function(){return function(e){var n=new e.api.Command("redo");n.execute=function(){e.undoManager.redo()},n.queryEnabled=function(){return e.undoManager.position>0},e.commands.redo=n,e.options.undo.enabled&&e.el.addEventListener("keydown",(function(e){t.isRedoKeyCombination(e)&&(e.preventDefault(),n.execute())}))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.Command("subscript");t.commands.subscript=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.Command("superscript");t.commands.superscript=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o;r=[n(21)],void 0===(o=function(t){"use strict";return function(){return function(e){var n=new e.api.Command("undo");n.execute=function(){e.undoManager.undo()},n.queryEnabled=function(){return e.undoManager.position<e.undoManager.length},e.commands.undo=n,e.options.undo.enabled&&e.el.addEventListener("keydown",(function(e){t.isUndoKeyCombination(e)&&(e.preventDefault(),n.execute())}))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(72),n(73)],void 0===(o=function(t,e){"use strict";return{replaceNbspCharsFormatter:t,escapeHtmlCharactersFormatter:e}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=/(\s|&nbsp;)+/g;t.registerHTMLFormatter("export",(function(t){return t.replace(e," ")}))}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o,i,a;r=function(){return function(t){return"string"==typeof t?t:null==t?"":t+""}}.apply(e,[]),o=function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};return function(e){return t[e]}}.apply(e,[]),i=function(t,e){var n=/[&<>"'`]/g,r=RegExp(n.source);return function(o){return(o=t(o))&&r.test(o)?o.replace(n,e):o}}.apply(e,[r,o]),void 0===(a=function(t){"use strict";return function(){return function(e){e.registerPlainTextFormatter(t)}}}.apply(e,[i]))||(t.exports=a)},function(t,e,n){var r,o;r=[n(75),n(2)],void 0===(o=function(t,e){"use strict";return function(){return function(n){var r=n.node;n.el.addEventListener("focus",function(){var t=new n.api.Selection;if(t.range&&(n.allowsBlockElements()&&t.range.startContainer===n.el)){var e=r.firstDeepestChild(n.el),o=t.range;o.setStart(e,0),o.setEnd(e,0),t.selection.removeAllRanges(),t.selection.addRange(o)}}.bind(n));var o=function(){if(!n._skipFormatters){var t=new n.api.Selection,e=t.range,r=function(){e&&t.placeMarkers(),n.setHTML(n._htmlFormatterFactory.format(n.getHTML())),t.selectMarkers()}.bind(n);n.transactionManager.run(r)}delete n._skipFormatters}.bind(n);t(n.el,o),n.allowsBlockElements()&&n.el.addEventListener("keydown",(function(t){if(13===t.keyCode){var e=new n.api.Selection,r=e.range,o=e.getContaining((function(t){return/^(H[1-6])$/.test(t.nodeName)}));if(o&&r.collapsed){var i=r.cloneRange();i.setEndAfter(o),""===i.cloneContents().firstChild.textContent&&(t.preventDefault(),n.transactionManager.run((function(){var t=document.createElement("p"),n=document.createElement("br");t.appendChild(n),o.parentNode.insertBefore(t,o.nextElementSibling),r.setStart(t,0),r.setEnd(t,0),e.selection.removeAllRanges(),e.selection.addRange(r)})))}}})),n.allowsBlockElements()&&n.el.addEventListener("keydown",(function(t){if(13===t.keyCode||8===t.keyCode){var e=new n.api.Selection;if(e.range.collapsed){var r=e.getContaining((function(t){return"LI"===t.nodeName}));if(r&&""===r.textContent.trim()){t.preventDefault();var o=e.getContaining((function(t){return"UL"===t.nodeName||"OL"===t.nodeName})),i=n.getCommand("OL"===o.nodeName?"insertOrderedList":"insertUnorderedList");i.event=t,i.execute()}}}})),n.el.addEventListener("paste",(function(t){if(t.clipboardData&&t.clipboardData.types.length>0)t.preventDefault(),e.List(t.clipboardData.types).includes("text/html")?n.insertHTML(t.clipboardData.getData("text/html")):n.insertPlainText(t.clipboardData.getData("text/plain"));else{var r=new n.api.Selection;r.placeMarkers();var o=document.createElement("div");document.body.appendChild(o),o.setAttribute("contenteditable",!0),o.focus(),setTimeout((function(){var t=o.innerHTML;o.parentNode.removeChild(o),r.selectMarkers(),n.el.focus(),n.insertHTML(t)}),1)}}))}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(8),n(76)],void 0===(o=function(t,e){var n="object"==typeof window?window:void 0,r=e.determineMutationObserver(n);function o(e){return!t.isEmptyTextNode(e)&&!t.isSelectionMarkerNode(e)}return function(t,e){var n=!1,i=new r((function(t){if(!n&&function(t){return t.some((function(t){return Array.prototype.some.call(t.addedNodes,o)||Array.prototype.some.call(t.removedNodes,o)}))}(t)){n=!0;try{e()}catch(t){throw t}finally{setTimeout((function(){n=!1}),0)}}}));return i.observe(t,{childList:!0,subtree:!0}),i}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return{determineMutationObserver:function(t){return void 0===t?function(){return{observe:function(){}}}:t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(78),n(79),n(80),n(81),n(82),n(83),n(84)],void 0===(o=function(t,e,n,r,o,i,a){"use strict";return{commands:{bold:t,indent:e,insertHTML:n,insertList:r,outdent:o,createLink:i},events:a}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.CommandPatch("bold");e.queryEnabled=function(){var e=new t.api.Selection,n=e.getContaining((function(t){return/^(H[1-6])$/.test(t.nodeName)}));return t.api.CommandPatch.prototype.queryEnabled.apply(this,arguments)&&!n},t.commandPatches.bold=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.CommandPatch("indent");e.execute=function(e){t.transactionManager.run(function(){var n=new t.api.Selection,r=n.range;if("P"===r.commonAncestorContainer.nodeName&&"<br>"===r.commonAncestorContainer.innerHTML){var o=document.createTextNode("\ufeff");r.insertNode(o),r.setStart(o,0),r.setEnd(o,0),n.selection.removeAllRanges(),n.selection.addRange(r)}t.api.CommandPatch.prototype.execute.call(this,e);var i=(n=new t.api.Selection).getContaining((function(t){return"BLOCKQUOTE"===t.nodeName}));i&&i.removeAttribute("style")}.bind(this))},t.commandPatches.indent=e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.CommandPatch("insertHTML"),n=t.node;e.execute=function(e){t.transactionManager.run(function(){t.api.CommandPatch.prototype.execute.call(this,e),n.removeChromeArtifacts(t.el)}.bind(this))},t.commandPatches.insertHTML=e}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=t.node,n=function(e){t.api.CommandPatch.call(this,e)};(n.prototype=Object.create(t.api.CommandPatch.prototype)).constructor=n,n.prototype.execute=function(n){t.transactionManager.run(function(){if(t.api.CommandPatch.prototype.execute.call(this,n),this.queryState()){var r=new t.api.Selection,o=r.getContaining((function(t){return"OL"===t.nodeName||"UL"===t.nodeName}));if(o){o.nextElementSibling&&0===o.nextElementSibling.childNodes.length&&e.removeNode(o.nextElementSibling);var i=o.parentNode;i&&/^(H[1-6]|P)$/.test(i.nodeName)&&(r.placeMarkers(),e.insertAfter(o,i),r.selectMarkers(),2===i.childNodes.length&&e.isEmptyTextNode(i.firstChild)&&e.removeNode(i),0===i.childNodes.length&&e.removeNode(i)),e.removeChromeArtifacts(o)}}}.bind(this))},n.prototype.queryState=function(){try{return t.api.CommandPatch.prototype.queryState.apply(this,arguments)}catch(t){if("NS_ERROR_UNEXPECTED"==t.name)return!1;throw t}},t.commandPatches.insertOrderedList=new n("insertOrderedList"),t.commandPatches.insertUnorderedList=new n("insertUnorderedList")}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=t.node,n=new t.api.CommandPatch("outdent");n.execute=function(){t.transactionManager.run(function(){var n=new t.api.Selection,r=n.range,o=n.getContaining((function(t){return"BLOCKQUOTE"===t.nodeName}));if("BLOCKQUOTE"===r.commonAncestorContainer.nodeName){n.placeMarkers(),n.selectMarkers(!0);var i=r.cloneContents();o.parentNode.insertBefore(i,o),r.deleteContents(),n.selectMarkers(),""===o.textContent&&o.parentNode.removeChild(o)}else{var a=n.getContaining((function(t){return"P"===t.nodeName}));if(a){var u=e.nextSiblings(a);if(u.size){for(var c=document.createElement(o.nodeName);u.size;)c.appendChild(u.first()),u=u.shift();o.parentNode.insertBefore(c,o.nextElementSibling)}n.placeMarkers(),o.parentNode.insertBefore(a,o.nextElementSibling),n.selectMarkers(),""===o.innerHTML&&o.parentNode.removeChild(o)}else t.api.CommandPatch.prototype.execute.call(this)}}.bind(this))},t.commandPatches.outdent=n}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=new t.api.CommandPatch("createLink");t.commandPatches.createLink=e,e.execute=function(e){var n=new t.api.Selection;if(n.range.collapsed){var r=document.createElement("a");r.setAttribute("href",e),r.textContent=e,n.range.insertNode(r);var o=document.createRange();o.setStartBefore(r),o.setEndAfter(r),n.selection.removeAllRanges(),n.selection.addRange(o)}else t.api.CommandPatch.prototype.execute.call(this,e)}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(){return function(t){var e=t.node;t.allowsBlockElements()&&t.el.addEventListener("keyup",(function(n){if(8===n.keyCode||46===n.keyCode){var r=new t.api.Selection,o=r.getContaining((function(t){return"P"===t.nodeName}));o&&t.transactionManager.run((function(){r.placeMarkers(),e.removeChromeArtifacts(o),r.selectMarkers()}),!0)}}))}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(86),n(87),n(88),n(89)],void 0===(o=function(t,e,n,r){"use strict";return function(o){this.CommandPatch=t(o),this.Command=e(o),this.Selection=n(o),this.SimpleCommand=r(this,o)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){function e(t){this.commandName=t}return e.prototype.execute=function(e){t.transactionManager.run(function(){document.execCommand(this.commandName,!1,e||null)}.bind(this))},e.prototype.queryState=function(){return document.queryCommandState(this.commandName)},e.prototype.queryEnabled=function(){return document.queryCommandEnabled(this.commandName)},e}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){function e(e){this.commandName=e,this.patch=t.commandPatches[this.commandName]}return e.prototype.execute=function(e){this.patch?this.patch.execute(e):t.transactionManager.run(function(){document.execCommand(this.commandName,!1,e||null)}.bind(this))},e.prototype.queryState=function(){return this.patch?this.patch.queryState():document.queryCommandState(this.commandName)},e.prototype.queryEnabled=function(){return this.patch?this.patch.queryEnabled():document.queryCommandEnabled(this.commandName)},e}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){var e=t.el.ownerDocument,n=t.node;if(e.compareDocumentPosition(t.el)&Node.DOCUMENT_POSITION_DISCONNECTED){for(var r=t.el.parentNode;r&&n.isFragment(r);)r=r.parentNode;r&&r.getSelection&&(e=r)}function o(){var t=document.createElement("em");return t.style.display="none",t.classList.add("scribe-marker"),t}function i(t,e){t.insertNode(e),e.nextSibling&&n.isEmptyTextNode(e.nextSibling)&&n.removeNode(e.nextSibling),e.previousSibling&&n.isEmptyTextNode(e.previousSibling)&&n.removeNode(e.previousSibling)}function a(){if(this.selection=e.getSelection(),this.selection.rangeCount&&this.selection.anchorNode){var t=this.selection.anchorNode,r=this.selection.anchorOffset,o=this.selection.focusNode,i=this.selection.focusOffset;if(t===o&&i<r){var a=r;r=i,i=a}else if(n.isBefore(o,t)){var u=t,c=r;t=o,r=i,o=u,i=c}this.range=document.createRange(),this.range.setStart(t,r),this.range.setEnd(o,i)}}return a.prototype.getContaining=function(e){if(this.range){var r=this.range.commonAncestorContainer;return r&&t.el===r||!e(r)?n.getAncestor(r,t.el,e):r}},a.prototype.placeMarkers=function(){var e=this.range;if(e&&document.contains(t.el)&&t.el.contains(e.startContainer)&&t.el.contains(e.endContainer)){if(i(e.cloneRange(),o()),!e.collapsed){var n=e.cloneRange();n.collapse(!1),i(n,o())}this.selection.removeAllRanges(),this.selection.addRange(e)}},a.prototype.getMarkers=function(){return t.el.querySelectorAll("em.scribe-marker")},a.prototype.removeMarkers=function(){Array.prototype.forEach.call(this.getMarkers(),(function(t){var e=t.parentNode;n.removeNode(t),e.normalize()}))},a.prototype.selectMarkers=function(t){var e=this.getMarkers();if(e.length){var n=document.createRange();n.setStartBefore(e[0]),n.setEndAfter(e.length>=2?e[1]:e[0]),t||this.removeMarkers(),this.selection.removeAllRanges(),this.selection.addRange(n)}},a.prototype.isCaretOnNewLine=function(){var t=this.getContaining((function(t){return"P"===t.nodeName}));return!!t&&n.isEmptyInlineElement(t)},a}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t,e){function n(t,n){e.api.Command.call(this,t),this._nodeName=n}return n.prototype=Object.create(t.Command.prototype),n.prototype.constructor=n,n.prototype.queryState=function(){var t=new e.api.Selection;return e.api.Command.prototype.queryState.call(this)&&!!t.getContaining(function(t){return t.nodeName===this._nodeName}.bind(this))},n}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o;r=[n(22)],void 0===(o=function(t){"use strict";return function(e){function n(){this.history=[]}return Object.assign(n.prototype,{start:function(){this.history.push(1)},end:function(){this.history.pop(),0===this.history.length&&(e.pushHistory(),e.trigger(t.legacyContentChanged),e.trigger(t.contentChanged))},run:function(t,n){this.start();try{t&&t()}finally{e._forceMerge=!0===n,this.end(),e._forceMerge=!1}}}),n}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){"use strict";function e(e,n){this._stack=t.List(),this._limit=e,this._fireEvent="undefined"!=typeof CustomEvent&&n&&n.dispatchEvent,this._ush=n,this.position=0,this.length=0}return e.prototype.transact=function(e,n){if(arguments.length<2)throw new TypeError("Not enough arguments to UndoManager.transact.");var r;e.execute(),this.position>0&&this.clearRedo(),n&&this.length?(r=this._stack.first().push(e),this._stack=this._stack.shift().unshift(r)):(r=t.List.of(e),this._stack=this._stack.unshift(r),this.length++,this._limit&&this.length>this._limit&&this.clearUndo(this._limit)),this._dispatch("DOMTransaction",r)},e.prototype.undo=function(){if(!(this.position>=this.length)){for(var t=this._stack.get(this.position),e=t.size;e--;)t.get(e).undo();this.position++,this._dispatch("undo",t)}},e.prototype.redo=function(){if(0!==this.position){this.position--;for(var t=this._stack.get(this.position),e=0;e<t.size;e++)t.get(e).redo();this._dispatch("redo",t)}},e.prototype.item=function(t){return t>=0&&t<this.length?this._stack.get(t).toArray():null},e.prototype.clearUndo=function(t){this._stack=this._stack.take(void 0!==t?t:this.position),this.length=this._stack.size},e.prototype.clearRedo=function(){this._stack=this._stack.skip(this.position),this.length=this._stack.size,this.position=0},e.prototype._dispatch=function(t,e){this._fireEvent&&this._ush.dispatchEvent(new CustomEvent(t,{detail:{transactions:e.toArray()},bubbles:!0,cancelable:!1}))},e}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){"use strict";function e(){this._listeners={}}return e.prototype.on=function(e,n){var r=this._listeners[e]||t.Set();this._listeners[e]=r.add(n)},e.prototype.off=function(e,n){var r=this._listeners[e]||t.Set();this._listeners[e]=n?r.delete(n):r.clear()},e.prototype.trigger=function(e,n){for(var r=e.split(":");r.length;){var o=r.join(":");(this._listeners[o]||t.Set()).forEach((function(t){t.apply(null,n)})),r.splice(r.length-1,1)}},e}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(2)],void 0===(o=function(t){var e=["setRootPElement","enforcePElements","ensureSelectableContainers"],n=["inlineElementsMode"],r={allowBlockElements:!0,debug:!1,undo:{manager:!1,enabled:!0,limit:100,interval:250},defaultCommandPatches:["bold","indent","insertHTML","insertList","outdent","createLink"],defaultPlugins:e.concat(n),defaultFormatters:["escapeHtmlCharactersFormatter","replaceNbspCharsFormatter"]};function o(t){return function(e){return-1!==t.indexOf(e)}}return{defaultOptions:r,checkOptions:function(e){var n=e||{};return n.defaultPlugins&&(n.defaultPlugins=n.defaultPlugins.filter(o(r.defaultPlugins))),n.defaultFormatters&&(n.defaultFormatters=n.defaultFormatters.filter(o(r.defaultFormatters))),Object.freeze(function(e,n){var r=t.fromJS(e);return t.fromJS(n).merge(r).toJS()}(n,r))},sortByPlugin:function(t){return function(e,n){return e===t?-1:n===t?1:0}},filterByBlockLevelMode:function(t){return function(r){return-1!==(t?e:n).indexOf(r)}},filterByPluginExists:o}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(23)],void 0===(o=function(t){function e(t,e){return function(n,r){return/[^\s()]/.test(r=r||"")?r+e:r+t}}return{convert:function n(r){return/['"]/.test(r)?n(r.replace(/([\s\S])?'/,e(t.openSingleCurly,t.closeSingleCurly)).replace(/([\s\S])?"/,e(t.openDoubleCurly,t.closeDoubleCurly))):r}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return{toArray:function(t){var e=[];if(t&&t.length&&t.item)for(var n=0;n<t.length;n++){var r=t.item(n);r&&e.push(r)}return e}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;void 0===(o="function"==typeof(r=function(){function t(t){var e=t.tags;if(!Object.keys(e).map((function(t){return typeof e[t]})).every((function(t){return"object"===t||"boolean"===t||"function"===t})))throw new Error("The configuration was invalid");this.config=t}var e=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(t){return-1!==e.indexOf(t.nodeName)}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function o(t){return-1!==r.indexOf(t.nodeName)}function i(t,e,n){return"function"==typeof t.tags[e]?t.tags[e](n):t.tags[e]}function a(t,e){return void 0===e||"boolean"==typeof e&&!e}function u(t,e,n){var r=t.name.toLowerCase();return!0!==e&&("function"==typeof e[r]?!e[r](t.value,n):void 0===e[r]||!1===e[r]||"string"==typeof e[r]&&e[r]!==t.value)}return t.prototype.clean=function(t){const e=document.implementation.createHTMLDocument(),n=e.createElement("div");return n.innerHTML=t,this._sanitize(e,n),n.innerHTML},t.prototype._sanitize=function(t,e){var r=function(t,e){return t.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(t,e),c=r.firstChild();if(c)do{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.COMMENT_NODE){e.removeChild(c),this._sanitize(t,e);break}var s,l=o(c);l&&(s=Array.prototype.some.call(c.childNodes,n));var f=!!e.parentNode,p=n(e)&&n(c)&&f,h=c.nodeName.toLowerCase(),d=i(this.config,h,c);if(l&&s||a(0,d)||!this.config.keepNestedBlockElements&&p){if("SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName)for(;c.childNodes.length>0;)e.insertBefore(c.childNodes[0],c);e.removeChild(c),this._sanitize(t,e);break}for(var y=0;y<c.attributes.length;y+=1){var v=c.attributes[y];u(v,d,c)&&(c.removeAttribute(v.name),y-=1)}this._sanitize(t,c)}else if(""===c.data.trim()&&(c.previousElementSibling&&n(c.previousElementSibling)||c.nextElementSibling&&n(c.nextElementSibling))){e.removeChild(c),this._sanitize(t,e);break}}while(c=r.nextSibling())},t})?r.call(e,n,e,t):r)||(t.exports=o)},function(t,e,n){var r,o;r=[n(98),n(108)],void 0===(o=function(t,e){return e(t)}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(24),n(25),n(103),n(7),n(3),n(4),n(5),n(31)],void 0===(o=function(t,e,n,r,o,i,a,u){return function c(s,l,f,p,h){if(!i(s))return s;var d=o(l.length)&&(r(l)||u(l));return(d?t:e)(l,(function(t,e,r){if(a(t))return p||(p=[]),h||(h=[]),n(s,r,e,c,f,p,h);var o=s[e],i=f?f(o,t,e,s,r):void 0,u=void 0===i;u&&(i=t),!d&&void 0===i||!u&&(i==i?i===o:o!=o)||(s[e]=i)})),s}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(4)],void 0===(o=function(t){return function(e){return t(e)?e:Object(e)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(101)],void 0===(o=function(t){var e=/[.*+?^${}()|[\]\/\\]/g,n=RegExp(e.source);return function(r){return(r=t(r))&&n.test(r)?r.replace(e,"\\$&"):r}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return function(t){return"string"==typeof t?t:null==t?"":t+""}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(12),n(7),n(13),n(3),n(14),n(28)],void 0===(o=function(t,e,n,r,o,i){var a=Object.prototype.hasOwnProperty;return function(u){for(var c=o(u),s=c.length,l=s&&u.length,f=l&&r(l)&&(e(u)||i.nonEnumArgs&&t(u)),p=-1,h=[];++p<s;){var d=c[p];(f&&n(d,l)||a.call(u,d))&&h.push(d)}return h}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(30),n(12),n(7),n(3),n(104),n(31),n(107)],void 0===(o=function(t,e,n,r,o,i,a){return function(u,c,s,l,f,p,h){for(var d=p.length,y=c[s];d--;)if(p[d]==y)return void(u[s]=h[d]);var v=u[s],m=f?f(v,y,s,u,c):void 0,b=void 0===m;b&&(m=y,r(y.length)&&(n(y)||i(y))?m=n(v)?v:v?t(v):[]:o(y)||e(y)?m=e(v)?a(v):o(v)?v:{}:b=!1),p.push(y),h.push(m),b?u[s]=l(m,y,f,p,h):(m==m?m!==v:v==v)&&(u[s]=m)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(6),n(105)],void 0===(o=function(t,e){var n=Object.prototype.toString,r=t(r=Object.getPrototypeOf)&&r;return r?function(o){if(!o||"[object Object]"!=n.call(o))return!1;var i=o.valueOf,a=t(i)&&(a=r(i))&&r(a);return a?o==a||r(o)==a:e(o)}:e}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(106),n(5)],void 0===(o=function(t,e){var n=Object.prototype,r=n.hasOwnProperty,o=n.toString;return function(n){var i,a;return!(!e(n)||"[object Object]"!=o.call(n)||!(r.call(n,"constructor")||"function"!=typeof(i=n.constructor)||i instanceof i))&&(t(n,(function(t,e){a=e})),void 0===a||r.call(n,a))}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(26),n(14)],void 0===(o=function(t,e){return function(n,r){return t(n,r,e)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(32),n(14)],void 0===(o=function(t,e){return function(n){return t(n,e(n))}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(33),n(110)],void 0===(o=function(t,e){return function(n){return function(){var r=arguments,o=r.length,i=r[0];if(o<2||null==i)return i;var a=r[o-2],u=r[o-1],c=r[3];o>3&&"function"==typeof a?(a=t(a,u,5),o-=2):o-=(a=o>2&&"function"==typeof u?u:null)?1:0,c&&e(r[1],r[2],c)&&(a=3==o?null:a,o=2);for(var s=0;++s<o;){var l=r[s];l&&n(i,l,a)}return i}}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return function(t){return t}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(13),n(3),n(4)],void 0===(o=function(t,e,n){return function(r,o,i){if(!n(i))return!1;var a=typeof o;if("number"==a)var u=i.length,c=e(u)&&t(o,u);else c="string"==a&&o in i;if(c){var s=i[o];return r==r?r===s:s!=s}return!1}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(112),n(33)],void 0===(o=function(t,e){return function(n,r,o){return r="function"==typeof r&&e(r,o,1),t(n,!0,r)}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(30),n(24),n(32),n(25),n(113),n(114),n(117),n(7),n(4),n(27)],void 0===(o=function(t,e,n,r,o,i,a,u,c,s){var l={};l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object String]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Set]"]=l["[object WeakMap]"]=!1;var f=Object.prototype.toString;return function p(h,d,y,v,m,b,g){var _;if(y&&(_=m?y(h,v,m):y(h)),void 0!==_)return _;if(!c(h))return h;var w=u(h);if(w){if(_=o(h),!d)return t(h,_)}else{var S=f.call(h),O="[object Function]"==S;if("[object Object]"!=S&&"[object Arguments]"!=S&&(!O||m))return l[S]?i(h,S,d):m?h:{};if(_=a(O?{}:h),!d)return n(h,_,s(h))}b||(b=[]),g||(g=[]);for(var E=b.length;E--;)if(b[E]==h)return g[E];return b.push(h),g.push(_),(w?e:r)(h,(function(t,e){_[e]=p(t,d,y,e,h,b,g)})),_}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){var t=Object.prototype.hasOwnProperty;return function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,o;r=[n(115)],void 0===(o=function(t){var e=/\w*$/;return function(n,r,o){var i=n.constructor;switch(r){case"[object ArrayBuffer]":return t(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":var a=n.buffer;return new i(o?t(a):a,n.byteOffset,n.length);case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":var u=new i(n.source,e.exec(n));u.lastIndex=n.lastIndex}return u}}.apply(e,r))||(t.exports=o)},function(t,e,n){var r,o;r=[n(116),n(6),n(29)],void 0===(o=function(t,e,n){var r=e(r=n.ArrayBuffer)&&r,o=e(o=r&&new r(0).slice)&&o,i=Math.floor,a=e(a=n.Uint8Array)&&a,u=function(){try{var t=e(t=n.Float64Array)&&t,o=new t(new r(10),0,1)&&t}catch(t){}return o}(),c=u?u.BYTES_PER_ELEMENT:0;function s(t){return o.call(t,0)}return o||(s=r&&a?function(t){var e=t.byteLength,n=u?i(e/c):0,o=n*c,s=new r(e);if(n){var l=new u(s,0,n);l.set(new u(t,0,n))}return e!=o&&(l=new a(s,o)).set(new a(t,o)),s}:t(null)),s}.apply(e,r))||(t.exports=o)},function(t,e,n){var r;void 0===(r=function(){return function(t){return function(){return t}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}}.apply(e,[]))||(t.exports=r)},function(t,e,n){t.exports=n(17)}])}));